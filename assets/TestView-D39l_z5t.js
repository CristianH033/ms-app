import{o as s,c as r,a as i,d as x,r as d,b7 as T,y as v,j as p,w as $,e as l,n as f,b8 as g,m as B,b as H,T as C,a0 as U,s as b,F as w,i as k,B as V,_ as D,ac as S,t as L}from"./index-d92Zl69x.js";import{_ as I}from"./Skeleton.vue_vue_type_script_setup_true_lang-Dt-p150q.js";import{b as N,a as R}from"./thumbHash-Ci89Ad7b.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},M=i("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-width":"1.5"},[i("path",{d:"m2 8l6 2M6 4l2 3"}),i("path",{d:"m11 6.563l3.7-3.625c1.46-1.43 4.063-1.199 5.815.517c1.751 1.716 1.988 4.267.528 5.697L18.136 12M15 15.587L10.965 20c-1.392 1.524-3.876 1.277-5.548-.552c-1.67-1.828-1.897-4.546-.504-6.07L6.173 12",opacity:".5"})],-1),j=[M];function A(h,e){return s(),r("svg",F,[...j])}const O={name:"solar-link-broken-line-duotone",render:A},P=["src"],q={key:2,class:"w-full h-full"},G=["src","loading","alt","title","crossorigin","sizes","srcset"],J=x({__name:"LazyImage",props:{src:{},thumbHash:{},thumbnail:{},class:{},style:{},loading:{},alt:{},title:{},crossorigin:{},sizes:{},srcset:{}},setup(h){const e=h,{isLoading:o,data:_,error:c}=(()=>{const n=d(!1),m=d(null),y=d(null);if(typeof e.src=="string"){const{isLoading:u,error:z}=T({src:e.src},{delay:1e3});return{isLoading:u,data:m,error:z}}return e.src instanceof Promise&&(n.value=!0,e.src.then(u=>{m.value=u,n.value=!1}).catch(u=>{y.value=u,n.value=!1})),{isLoading:n,data:m,error:y}})(),a=v(()=>{if(e.thumbHash){if(typeof e.thumbHash=="string")return N(e.thumbHash);if(e.thumbHash instanceof Uint8Array)return R(e.thumbHash)}return null}),t=v(()=>o.value||c.value?"#":_.value||e.src);return(n,m)=>(s(),p(C,{name:"fade",mode:"out-in"},{default:$(()=>[l(o)&&a.value?(s(),r("img",{key:0,class:f(e.class),style:g(e.style),src:a.value},null,14,P)):l(o)&&!a.value?(s(),p(l(I),{key:1,class:f(l(B)("w-full h-full min-w-32 min-h-32 rounded-none",e.class)),style:g(e.style)},null,8,["class","style"])):!l(o)&&l(c)?(s(),r("div",q,[H(l(O),{class:"w-12 h-12"})])):(s(),r("img",{key:3,src:t.value,class:f(e.class),style:g(e.style),loading:e.loading,alt:e.alt,title:e.title,crossorigin:e.crossorigin,sizes:e.sizes,srcset:e.srcset},null,14,G))]),_:1}))}}),K=E(J,[["__scopeId","data-v-d717f5ef"]]),Q={class:"w-full flex flex-col items-center gap-4"},W={class:"flex flex-col gap-2"},X={class:"text-xs"},Y={key:0,class:"w-64"},te=x({__name:"TestView",setup(h){const e=d([]),o=d(!1),_=async(c,a)=>{const{data:t,error:n}=await b.storage.from("").download(a);if(n)throw new Error(n.message);return URL.createObjectURL(t)};return U(async()=>{const{data:c,error:a}=await b.from("raffles").select("*").order("id",{ascending:!0});if(a)throw new Error(a.message);e.value=c}),(c,a)=>(s(),r("div",Q,[i("ul",W,[(s(!0),r(w,null,k(e.value,t=>(s(),r("li",{key:t.id},[i("p",null,L(t.image_path),1),i("p",X,L(t.thumb_hash),1)]))),128))]),H(l(D),{onClick:a[0]||(a[0]=t=>o.value=!o.value)},{default:$(()=>[V("Show/hide")]),_:1}),o.value?(s(),r("div",Y,[(s(!0),r(w,null,k(e.value,t=>(s(),p(K,{class:"w-full aspect-auto",src:_("raffles",t.image_path),key:t.id},null,8,["src"]))),128))])):S("",!0)]))}});export{te as default};
