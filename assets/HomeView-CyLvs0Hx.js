import{_ as $}from"./RafflesList.vue_vue_type_script_setup_true_lang-CfNti1cU.js";import{S as g}from"./add-circle-line-duotone-Cph3MIjB.js";import{g as C}from"./raffles-C5c-UYWO.js";import{d as V,r as o,l as B,m as D,p as N,q as R,o as c,c as L,a as l,n as A,b as e,e as a,w as s,_ as m,s as w,v as F,j as p,S as M}from"./index-XnMAgjIh.js";import{_ as O}from"./RaffleForm.vue_vue_type_script_setup_true_lang-ClLtoyD7.js";import{S as U}from"./magnifer-outline-B9cnIhAo.js";import{S as j}from"./ticket-line-duotone-CMp6XBgY.js";import{_ as z}from"./Input.vue_vue_type_script_setup_true_lang-CR_kah2p.js";import{_ as T,a as q,b as E,c as H}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CqpO9Kok.js";import{_ as I}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-CjpQ55xB.js";import{_ as G}from"./AlertDialogDescription.vue_vue_type_script_setup_true_lang-n6a3Geue.js";import{_ as J,a as K}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-BuCAFo1d.js";import"./Skeleton.vue_vue_type_script_setup_true_lang-DsuHrGDd.js";import"./CardContent.vue_vue_type_script_setup_true_lang-X55XFihy.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-BRndC6lG.js";import"./cup-star-line-duotone-Wcn8BS-f.js";import"./user-speak-line-duotone-DJDpzE1L.js";import"./index-z2IFTw9J.js";import"./FormMessage.vue_vue_type_script_setup_true_lang-8d4XG-IS.js";import"./DrawForm.vue_vue_type_script_setup_true_lang-CZx4KTQ1.js";import"./createLucideIcon-DuH0ZRGa.js";import"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-zIROrtod.js";import"./storage-BCHktwCG.js";import"./MoneyInput.vue_vue_type_script_setup_true_lang-Bn8o8-K2.js";import"./component-BrdiS1Mf.js";const P={class:"w-full flex flex-col items-center"},Q={class:"flex flex-col w-full max-w-3xl gap-4"},W={class:"grow relative"},X=l("span",{class:"hidden md:inline"},"Nueva rifa",-1),Y={class:"flex flex-row gap-2 justify-start items-center"},Z=l("span",null," Nueva Rifa ",-1),ee={class:"px-6 py-4 overflow-y-auto relative"},ae=l("span",null,"Crear",-1),se={class:"w-full flex flex-col gap-4 items-center"},le=l("div",{class:"w-full flex flex-col items-center"},null,-1),Ne=V({__name:"HomeView",setup(te){const f=o(!1),i=o(!1),u=o(""),_=o([]),d=o(!1),v=o(!1),x=o(null),h=B(()=>_.value.filter(t=>t.name.toLowerCase().includes(u.value.toLowerCase())));D(x,([{isIntersecting:t}])=>{v.value=!t},{rootMargin:"-65px",threshold:1});const y=()=>{d.value=!1},S=async()=>{y(),await b()},b=async()=>{f.value=!0,await C().then(t=>{_.value=t}).catch(t=>{console.log(t)}).finally(()=>{f.value=!1})};return N(async()=>{await b()}),(t,r)=>{const k=R("auto-animate");return c(),L("div",P,[l("div",{ref_key:"sentinal",ref:x,class:"w-full h-0"},null,512),l("div",Q,[l("div",{class:A(["flex flex-row gap-4 transition-all duration-300 bg-background-elevated/90 backdrop-blur px-4 py-3 border rounded-lg sticky top-16 z-10",{"!bg-background/90 @3xl/main:!bg-background-elevated/90 rounded-none @3xl/main:rounded-b-lg border-t-0 border-x-0 @3xl/main:border-x -mx-4":v.value}])},[l("div",W,[e(a(U),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5"}),e(z,{type:"text",modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=n=>u.value=n),autocomplete:"off",placeholder:"Buscar",class:"w-full pl-11 pr-4 py-2 text-sm"},null,8,["modelValue"])]),e(a(H),{open:d.value,"onUpdate:open":r[2]||(r[2]=n=>d.value=n)},{default:s(()=>[e(a(I),{asChild:""},{default:s(()=>[e(a(m),{class:"gap-2"},{default:s(()=>[e(a(g),{class:"w-5 h-5"}),X]),_:1})]),_:1}),e(a(T),{class:"transition-[opacity,_transform] gap-0 p-0 max-w-2xl w-[calc(100vw-2rem)] max-h-[calc(100dvh-2rem)] rounded-lg grid-rows-[auto_minmax(0,1fr)_auto]"},{default:s(()=>[e(a(q),{class:"p-6 pb-4 border-b"},{default:s(()=>[e(a(E),null,{default:s(()=>[l("div",Y,[e(a(j),{class:"w-8 h-8"}),Z])]),_:1}),e(a(G),null,{default:s(()=>[w(" Crea una nueva rifa ")]),_:1})]),_:1}),l("div",ee,[e(O,{withoutActions:"",id:"raffle-form",isSubmiting:i.value,"onUpdate:isSubmiting":r[1]||(r[1]=n=>i.value=n),onSuccess:S},null,8,["isSubmiting"])]),e(a(J),{class:"p-6 pt-4 border-t gap-2"},{default:s(()=>[e(a(K),{"as-child":""},{default:s(()=>[e(a(m),{variant:"secondary",type:"button",disabled:i.value},{default:s(()=>[w("Cancelar")]),_:1},8,["disabled"])]),_:1}),F((c(),p(a(m),{class:"gap-3",form:"raffle-form",type:"submit",disabled:i.value},{default:s(()=>[i.value?(c(),p(a(M),{key:0,class:"h-6 w-6"})):(c(),p(a(g),{key:1,class:"w-6 h-6"})),ae]),_:1},8,["disabled"])),[[k]])]),_:1})]),_:1})]),_:1},8,["open"])],2),l("div",se,[e($,{raffles:h.value,loading:f.value},null,8,["raffles","loading"])])]),le])}}});export{Ne as default};
