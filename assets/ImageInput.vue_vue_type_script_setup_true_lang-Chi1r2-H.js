import{m as _,o as t,c as n,a as e,d as k,a9 as m,r as f,aa as w,q as x,a2 as V,l as y,n as C,e as b,p as T,v as H,b as B,ad as M}from"./index-D_lficq2.js";import{f as $}from"./thumbHash-Ci89Ad7b.js";const D={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},I=e("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("circle",{cx:"12",cy:"12",r:"10",opacity:".5"}),e("path",{"stroke-linecap":"round",d:"m14.5 9.5l-5 5m0-5l5 5"})],-1),L=[I];function N(r,c){return t(),n("svg",D,[...L])}const R=_({name:"solar-close-circle-line-duotone",render:N}),j={key:0,class:"relative h-full w-full overflow-hidden rounded-md rounded-b-none border border-b-0 p-3"},q=["src"],S=["name"],F=k({__name:"ImageInput",props:m({defaultValue:{},modelValue:{},class:{},name:{},accept:{}},{base64ThumbHash:{required:!1},base64ThumbHashModifiers:{}}),emits:m(["update:modelValue"],["update:base64ThumbHash"]),setup(r,{emit:c}){const a=f(null),s=f(null),l=r,u=w(r,"base64ThumbHash"),h=x(l,"modelValue",c,{passive:!0,defaultValue:l.defaultValue}),p=async i=>{var d;const o=(d=i.target.files)==null?void 0:d[0];o?(a.value=URL.createObjectURL(o),u.value=await $(o)):u.value=null},v=()=>{a.value=null,h.value="",u.value=null,s.value&&(s.value.files=null,s.value.value="")};return(i,g)=>{const o=V("auto-animate");return t(),n("div",null,[y(i.$slots,"preview",{},()=>[H((t(),n("div",null,[a.value?(t(),n("div",j,[e("button",{type:"button",onClick:v,class:"absolute right-1 top-1 rounded-full border bg-background-elevated/50 p-1 backdrop-blur"},[B(b(R),{class:"h-5 w-5"})]),e("img",{src:a.value,class:"max-h-32 min-h-32 rounded-3xs border object-cover"},null,8,q)])):M("",!0)])),[[o]])]),e("input",{class:C(b(T)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a.value?"rounded-t-none":"rounded-md",l.class)),name:l.name,type:"file",accept:"image/*",onChange:p,ref_key:"input",ref:s},null,42,S)])}}});export{F as _};
