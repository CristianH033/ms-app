import{m as pe,o as s,c as _,a as n,d as B,v as U,e,n as Ce,C as G,L as Le,a9 as Ca,S as F,aa as za,ab as Da,l as A,x as ze,j as g,w as t,b as a,i as ee,F as ae,B as k,ac as Pa,O as y,t as K,I as oe,ad as Ba,ae as Re,af as qa,ag as Va,y as de,z as he,ah as Fa,ai as Ea,aj as Ma,ak as Na,al as La,am as Ra,an as Ua,ao as ja,ap as Ta,aq as Aa,ar as Ia,as as Ha,r as le,at as Oa,X as ia,q as Ue,Q as we,_ as X,au as Ze,av as Ka,aw as Wa,U as ye,V as je,ax as Ga,ay as _e,az as ge,M as ie,P as ua,s as da,k as Za,aA as Ya,aB as Xa,aC as Ja,aD as Qa,aE as et,h as at,aF as Ye,a7 as tt}from"./index-B4iZ3EM6.js";import{_ as Te,a as Ae,b as Ie,c as He,d as Oe,e as Ke,g as We,f as Me,S as xe,C as lt}from"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-BfjcxiP0.js";import{v as $e,_ as ke,u as fa,g as Se}from"./ImageInput.vue_vue_type_script_setup_true_lang-BOi4KGzf.js";import{S as Ne}from"./ticket-line-duotone-DV8mwnlN.js";import{S as st}from"./user-speak-line-duotone-vteIU9Vb.js";import{S as ue,_ as De,a as Pe,b as Be,c as qe,d as ot}from"./AlertDialogDescription.vue_vue_type_script_setup_true_lang-ChD8eHFR.js";import{d as nt,t as Ve,z as v,u as Fe,_ as M,a as I,b as L,c as H,F as R}from"./vee-validate-zod.esm-BTr_lng6.js";import{_ as ne}from"./Input.vue_vue_type_script_setup_true_lang-Dj58SJsf.js";import{c as Ge,d as rt,u as it,e as ut}from"./createLucideIcon-Vm7LUWeW.js";import{_ as ca}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-CIIGZnoH.js";import{_ as ma,a as pa}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-BMx5v9oj.js";import{L as Xe}from"./LazyImg-CvjWDdyr.js";import{_ as _a,a as dt,b as ga,c as ha}from"./CardContent.vue_vue_type_script_setup_true_lang-BIZxEPo9.js";import{_ as va,a as ba}from"./CardFooter.vue_vue_type_script_setup_true_lang-BvsM1wOM.js";import{_ as se}from"./Skeleton.vue_vue_type_script_setup_true_lang-XEJFplQ4.js";const ft={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ct(r,l){return s(),_("svg",ft,l[0]||(l[0]=[n("path",{fill:"currentColor",d:"M12.079 3v-.75zm-8.4 8.333h-.75zm0 1.667l-.527.532a.75.75 0 0 0 1.056 0zm2.209-1.134A.75.75 0 1 0 4.83 10.8zM2.528 10.8a.75.75 0 0 0-1.056 1.065zm16.088-3.408a.75.75 0 1 0 1.277-.786zM12.079 2.25c-5.047 0-9.15 4.061-9.15 9.083h1.5c0-4.182 3.42-7.583 7.65-7.583zm-9.15 9.083V13h1.5v-1.667zm1.28 2.2l1.679-1.667L4.83 10.8l-1.68 1.667zm0-1.065L2.528 10.8l-1.057 1.065l1.68 1.666zm15.684-5.86A9.16 9.16 0 0 0 12.08 2.25v1.5a7.66 7.66 0 0 1 6.537 3.643z"},null,-1),n("path",{fill:"currentColor",d:"M11.883 21v.75zm8.43-8.333h.75zm0-1.667l.528-.533a.75.75 0 0 0-1.055 0zM18.1 12.133a.75.75 0 1 0 1.055 1.067zm3.373 1.067a.75.75 0 1 0 1.054-1.067zM5.318 16.606a.75.75 0 1 0-1.277.788zm6.565 5.144c5.062 0 9.18-4.058 9.18-9.083h-1.5c0 4.18-3.43 7.583-7.68 7.583zm9.18-9.083V11h-1.5v1.667zm-1.277-2.2L18.1 12.133l1.055 1.067l1.686-1.667zm0 1.066l1.687 1.667l1.054-1.067l-1.686-1.666zm-15.745 5.86a9.2 9.2 0 0 0 7.842 4.357v-1.5a7.7 7.7 0 0 1-6.565-3.644z",opacity:".5"},null,-1)]))}const mt=pe({name:"solar-refresh-line-duotone",render:ct}),pt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function _t(r,l){return s(),_("svg",pt,l[0]||(l[0]=[n("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[n("path",{"stroke-linecap":"round",d:"M20.5 6h-17m15.333 2.5l-.46 6.9c-.177 2.654-.265 3.981-1.13 4.79s-2.195.81-4.856.81h-.774c-2.66 0-3.99 0-4.856-.81c-.865-.809-.953-2.136-1.13-4.79l-.46-6.9"}),n("path",{"stroke-linecap":"round",d:"m9.5 11l.5 5m4.5-5l-.5 5",opacity:".5"}),n("path",{d:"M6.5 6h.11a2 2 0 0 0 1.83-1.32l.034-.103l.097-.291c.083-.249.125-.373.18-.479a1.5 1.5 0 0 1 1.094-.788C9.962 3 10.093 3 10.355 3h3.29c.262 0 .393 0 .51.019a1.5 1.5 0 0 1 1.094.788c.055.106.097.23.18.479l.097.291A2 2 0 0 0 17.5 6",opacity:".5"})],-1)]))}const wa=pe({name:"solar-trash-bin-trash-line-duotone",render:_t}),gt=["id"],Je=B({__name:"FormDescription",props:{class:{}},setup(r){const l=r,{formDescriptionId:u}=nt();return(o,i)=>(s(),_("p",{id:e(u),class:Ce(e(G)("text-sm text-muted-foreground",l.class))},[U(o.$slots,"default")],10,gt))}}),ya=async()=>{const{data:r,error:l}=await Le.from("draws").select("*");if(l)throw new Error(l.message);return r},ht=async r=>{const{data:l,error:u}=await Le.from("draws").insert(r).select().single();if(u)throw new Error(u.message);return l},vt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function bt(r,l){return s(),_("svg",vt,l[0]||(l[0]=[n("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[n("path",{d:"M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2s7.071 0 8.535 1.464C22 4.93 22 7.286 22 12s0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Z",opacity:".5"}),n("path",{"stroke-linecap":"round",d:"m14.5 9.5l-5 5m0-5l5 5"})],-1)]))}const xa=pe({name:"solar-close-square-line-duotone",render:bt});const wt=Ge("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const yt=Ge("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const xt=Ge("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$a=B({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(r,{emit:l}){const u=r,i=Ca(u,"modelValue",l,{passive:!0,defaultValue:u.defaultValue});return(d,V)=>F((s(),_("textarea",{"onUpdate:modelValue":V[0]||(V[0]=j=>Da(i)?i.value=j:null),class:Ce(e(G)("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",u.class))},null,2)),[[za,e(i)]])}}),$t={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},kt=B({__name:"Calendar",props:{modelValue:{},multiple:{type:Boolean},defaultValue:{},defaultPlaceholder:{},placeholder:{},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:placeholder"],setup(r,{emit:l}){const u=r,o=l,i=A(()=>{const{class:V,...j}=u;return j}),d=ze(i,o);return(V,j)=>(s(),g(e(Pa),k({class:e(G)("p-3",u.class)},e(d)),{default:t(({grid:T,weekDays:S})=>[a(e(qt),null,{default:t(()=>[a(e(Et)),a(e(Vt)),a(e(Ft))]),_:1}),n("div",$t,[(s(!0),_(ae,null,ee(T,z=>(s(),g(e(zt),{key:z.value.toString()},{default:t(()=>[a(e(Pt),null,{default:t(()=>[a(e(Qe),null,{default:t(()=>[(s(!0),_(ae,null,ee(S,x=>(s(),g(e(Bt),{key:x},{default:t(()=>[y(K(x),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),a(e(Dt),null,{default:t(()=>[(s(!0),_(ae,null,ee(z.rows,(x,h)=>(s(),g(e(Qe),{key:`weekDate-${h}`,class:"mt-2 w-full"},{default:t(()=>[(s(!0),_(ae,null,ee(x,O=>(s(),g(e(St),{key:O.toString(),date:O},{default:t(()=>[a(e(Ct),{day:O,month:z.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),St=B({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:i,...d}=l;return d}),o=oe(u);return(i,d)=>(s(),g(e(Ba),k({class:e(G)("relative h-9 w-9 p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent [&:has([data-selected][data-outside-view])]:bg-accent/50",l.class)},e(o)),{default:t(()=>[U(i.$slots,"default")]),_:3},16,["class"]))}}),Ct=B({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:i,...d}=l;return d}),o=oe(u);return(i,d)=>(s(),g(e(qa),k({class:e(G)(e(Re)({variant:"ghost"}),"h-9 w-9 p-0 font-normal","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selected]:bg-primary data-[selected]:text-primary-foreground data-[selected]:opacity-100 data-[selected]:hover:bg-primary data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary data-[selected]:focus:text-primary-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through","data-[outside-view]:text-muted-foreground data-[outside-view]:opacity-50 [&[data-outside-view][data-selected]]:bg-accent/50 [&[data-outside-view][data-selected]]:text-muted-foreground [&[data-outside-view][data-selected]]:opacity-30",l.class)},e(o)),{default:t(()=>[U(i.$slots,"default")]),_:3},16,["class"]))}}),zt=B({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:i,...d}=l;return d}),o=oe(u);return(i,d)=>(s(),g(e(Va),k({class:e(G)("w-full border-collapse space-y-1",l.class)},e(o)),{default:t(()=>[U(i.$slots,"default")]),_:3},16,["class"]))}}),Dt=B({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(r){const l=r;return(u,o)=>(s(),g(e(Fa),de(he(l)),{default:t(()=>[U(u.$slots,"default")]),_:3},16))}}),Pt=B({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{}},setup(r){const l=r;return(u,o)=>(s(),g(e(Ea),de(he(l)),{default:t(()=>[U(u.$slots,"default")]),_:3},16))}}),Qe=B({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:i,...d}=l;return d}),o=oe(u);return(i,d)=>(s(),g(e(Ma),k({class:e(G)("flex",l.class)},e(o)),{default:t(()=>[U(i.$slots,"default")]),_:3},16,["class"]))}}),Bt=B({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:i,...d}=l;return d}),o=oe(u);return(i,d)=>(s(),g(e(Na),k({class:e(G)("w-9 rounded-md text-[0.8rem] font-normal text-muted-foreground",l.class)},e(o)),{default:t(()=>[U(i.$slots,"default")]),_:3},16,["class"]))}}),qt=B({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:i,...d}=l;return d}),o=oe(u);return(i,d)=>(s(),g(e(La),k({class:e(G)("relative flex w-full items-center justify-between pt-1",l.class)},e(o)),{default:t(()=>[U(i.$slots,"default")]),_:3},16,["class"]))}}),Vt=B({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:i,...d}=l;return d}),o=oe(u);return(i,d)=>(s(),g(e(Ra),k({class:e(G)("text-sm font-medium",l.class)},e(o)),{default:t(({headingValue:V})=>[U(i.$slots,"default",{headingValue:V},()=>[y(K(V),1)])]),_:3},16,["class"]))}}),Ft=B({__name:"CalendarNextButton",props:{step:{},nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:i,...d}=l;return d}),o=oe(u);return(i,d)=>(s(),g(e(Ua),k({class:e(G)(e(Re)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",l.class)},e(o)),{default:t(()=>[U(i.$slots,"default",{},()=>[a(e(xt),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Et=B({__name:"CalendarPrevButton",props:{step:{},prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:i,...d}=l;return d}),o=oe(u);return(i,d)=>(s(),g(e(ja),k({class:e(G)(e(Re)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",l.class)},e(o)),{default:t(()=>[U(i.$slots,"default",{},()=>[a(e(yt),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Mt=B({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(r,{emit:l}){const i=ze(r,l);return(d,V)=>(s(),g(e(Ta),de(he(e(i))),{default:t(()=>[U(d.$slots,"default")]),_:3},16))}}),Nt=B({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(r){const l=r;return(u,o)=>(s(),g(e(Aa),de(he(l)),{default:t(()=>[U(u.$slots,"default")]),_:3},16))}}),Lt=B({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:l}){const u=r,o=l,i=A(()=>{const{class:V,...j}=u;return j}),d=ze(i,o);return(V,j)=>(s(),g(e(Ha),null,{default:t(()=>[a(e(Ia),k({...e(d),...V.$attrs},{class:e(G)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",u.class)}),{default:t(()=>[U(V.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Rt=async()=>{const{data:r,error:l}=await Le.from("lotteries").select("*");if(l)throw new Error(l.message);return r},Ut=["aria-disabled"],jt=["disabled"],ka=B({__name:"DrawForm",emits:["submit","success","error","cancel"],setup(r,{emit:l}){const u=le("idle"),o=le([]),i=l,d=A(()=>u.value==="pending"),V=A(()=>u.value==="pending"||d.value),j=new Oa("es-CO",{dateStyle:"long"}),T=Ve(v.object({lottery_id:v.string({required_error:"Lotería es requerida"}).refine(N=>{var b;return(b=o.value)==null?void 0:b.some(te=>te.id.toString()===N)},{message:"El Sorteo no existe"}),name:v.string().refine(N=>N,{message:"La descripción es requerida"}),drawn_at:v.string().refine(N=>N,{message:"La fecha es requerida"})})),{handleSubmit:S,setFieldValue:z,values:x}=Fe({validationSchema:T,initialValues:{}}),h=A({get:()=>x.drawn_at?Ga(x.drawn_at):void 0,set:N=>N}),O=()=>{Rt().then(N=>{o.value=N}).catch(N=>{console.error(N)}).finally(()=>{})},W=S(N=>{u.value="pending",ht({...N,lottery_id:parseInt(N.lottery_id)}).then(async b=>{u.value="success",i("success",b==null?void 0:b.id)}).catch(()=>{u.value="error"}).finally(()=>{setTimeout(()=>{u.value="idle"},1e3)})}),E=()=>{i("cancel")};return ia(h,N=>{N&&(!x.name||x.name.startsWith("Sorteo del "))&&z("name",`Sorteo del ${j.format(Ze(N))}`)}),Ue(async()=>{O()}),(N,b)=>{const te=we("auto-animate");return s(),_("form",{onSubmit:b[2]||(b[2]=je((...J)=>e(W)&&e(W)(...J),["prevent"])),class:"flex w-full flex-col gap-2 @container/form","aria-disabled":V.value},[n("fieldset",{disabled:V.value},[a(e(R),{name:"lottery_id"},{default:t(({componentField:J})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>b[3]||(b[3]=[y("Lotería")])),_:1}),a(e(Te),de(he(J)),{default:t(()=>[a(e(L),null,{default:t(()=>[a(e(Ae),null,{default:t(()=>[a(e(Ie),{placeholder:"Elige una loteria"})]),_:1})]),_:1}),a(e(He),null,{default:t(()=>[a(e(Oe),null,{default:t(()=>[a(e(Ke),null,{default:t(()=>b[4]||(b[4]=[y("Loterías")])),_:1}),(s(!0),_(ae,null,ee(o.value,re=>(s(),g(e(We),{key:re.id,value:re.id.toString()},{default:t(()=>[y(K(re.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040),F((s(),_("div",null,[a(e(H))])),[[te]])]),_:2},1024)]),_:1}),a(e(R),{name:"name"},{default:t(({componentField:J})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>b[5]||(b[5]=[y("Descripción del sorteo")])),_:1}),a(e(L),null,{default:t(()=>[a(e(ne),k({type:"text",placeholder:"Descripción corta del sorteo"},J,{required:""}),null,16)]),_:2},1024),a(e(Je),null,{default:t(()=>b[6]||(b[6]=[y(' Descripción corta del sorteo, e.j. "Sorteo del 10 de Mayo de 2024". ')])),_:1}),F((s(),_("div",null,[a(e(H))])),[[te]])]),_:2},1024)]),_:1}),a(e(R),{name:"drawn_at"},{default:t(()=>[a(e(M),{class:"flex flex-col"},{default:t(()=>[a(e(I),null,{default:t(()=>b[7]||(b[7]=[y("Fecha del sorteo")])),_:1}),a(e(Mt),null,{default:t(()=>[a(e(Nt),{"as-child":""},{default:t(()=>[a(e(L),null,{default:t(()=>[a(e(X),{variant:"outline",class:Ce(e(G)("w-full ps-3 text-start font-normal",!h.value&&"text-muted-foreground"))},{default:t(()=>[n("span",null,K(h.value?e(j).format(e(Ze)(h.value)):"Seleccione una fecha"),1),a(e(wt),{class:"ms-auto h-4 w-4 opacity-50"})]),_:1},8,["class"]),b[8]||(b[8]=n("input",{hidden:""},null,-1))]),_:1})]),_:1}),a(e(Lt),{class:"w-auto p-0"},{default:t(()=>[a(e(kt),{modelValue:h.value,"onUpdate:modelValue":[b[0]||(b[0]=J=>h.value=J),b[1]||(b[1]=J=>{J?e(z)("drawn_at",J.toString()):e(z)("drawn_at",void 0)})],"calendar-label":"Date of birth","initial-focus":"","min-value":e(Ka)(e(Wa)())},null,8,["modelValue","min-value"])]),_:1})]),_:1}),a(e(Je),null,{default:t(()=>b[9]||(b[9]=[y(" Fecha del sorteo. ")])),_:1}),F((s(),_("div",null,[a(e(H))])),[[te]])]),_:1})]),_:1}),a(e(M),{class:"flex w-full flex-col-reverse items-center justify-end gap-2 space-y-0 py-2 md:flex-row"},{default:t(()=>[a(e(X),{type:"button",class:"w-full gap-2 @xl/form:w-auto",variant:"outline",onClick:E},{default:t(()=>b[10]||(b[10]=[n("span",null,"Cancelar",-1)])),_:1}),F((s(),g(e(X),{type:"submit",class:"w-full gap-2 @xl/form:w-auto"},{default:t(()=>[d.value?(s(),g(e(ye),{key:0,class:"h-6 w-6"})):(s(),g(e(ue),{key:1,class:"h-6 w-6"})),b[11]||(b[11]=n("span",null,"Crear",-1))]),_:1})),[[te]])]),_:1})],8,jt)],40,Ut)}}});function Tt(r){return{all:r=r||new Map,on:function(l,u){var o=r.get(l);o?o.push(u):r.set(l,[u])},off:function(l,u){var o=r.get(l);o&&(u?o.splice(o.indexOf(u)>>>0,1):r.set(l,[]))},emit:function(l,u){var o=r.get(l);o&&o.slice().map(function(i){i(u)}),(o=r.get("*"))&&o.slice().map(function(i){i(l,u)})}}}const me=Tt(),At=["aria-disabled"],It=["disabled"],Ht={class:"flex flex-row gap-2"},Ot={key:0,class:"p-4",value:""},Kt={class:"grid gap-4 sm:grid-cols-2 sm:gap-6"},Wt={class:"col-span-2 flex flex-col gap-4 rounded-md border p-4"},Gt={class:"flex gap-2 text-lg font-medium"},Zt=["onClick"],Yt={class:"w-full rounded-md border p-4"},Xt={class:"text-lg font-medium"},Jt={class:"flex w-full flex-row items-center justify-end py-2"},ea=1,aa=5e6,Qt=B({__name:"RaffleForm",props:_e({withoutActions:{type:[Boolean,String],default:!1}},{isSubmiting:{type:Boolean,required:!1,default:!1},isSubmitingModifiers:{}}),emits:["update:isSubmiting"],setup(r){const l=["image/jpeg","image/jpg","image/png","image/webp"],u=r,o=ge(r,"isSubmiting"),i=le([]),d=le({draw_id:void 0,name:"",description:"",image_path:null,thumb_hash:null,number_of_tickets:1e3,ticket_price:"",prizes:[{key:$e().slice(-10),name:"",prize_value:"",image:null,thumb_hash:null}]}),V=v.object({draw_id:v.string({required_error:"Sorteo es requerido"}).refine(p=>i.value.some(m=>m.id.toString()===p),{message:"El Sorteo no existe"}),name:v.string({required_error:"Nombre es requerido"}).min(3,{message:"Nombre debe tener al menos 3 caracteres"}),description:v.string({required_error:"La descripción es requerida"}).min(3,{message:"La descripción debe tener al menos 3 caracteres"}).optional(),number_of_tickets:v.number({required_error:"El numero de tickets es requerido"}).min(100,{message:"El numero de tickets debe ser mayor o igual a 100"}),ticket_price:v.string({required_error:"El valor es requerido"}).transform(p=>parseFloat(p)).refine(p=>!isNaN(p)&&p>=1,{message:"El valor debe ser un número mayor o igual a 1"}),prizes:v.array(v.object({name:v.string({required_error:"Nombre es requerido"}).min(3,{message:"Nombre debe tener al menos 3 caracteres"}),prize_value:v.string({required_error:"El valor es requerido"}).transform(p=>parseFloat(p)).refine(p=>!isNaN(p)&&p>=1,{message:"El valor debe ser un número mayor o igual a 1"}),image:v.instanceof(File).refine(p=>p instanceof File,{message:"Debe seleccionar una imagen"}).refine(p=>l.includes(p.type),{message:"Tipo de archivo no aceptado"}).refine(p=>p.size>=ea,{message:"El archivo está vacío"}).refine(p=>p.size<=aa,{message:"El archivo es demasiado grande"})})).min(1),image:v.instanceof(File).refine(p=>p instanceof File,{message:"Debe seleccionar una imagen"}).refine(p=>l.includes(p.type),{message:"Tipo de archivo no aceptado"}).refine(p=>p.size>=ea,{message:"El archivo está vació"}).refine(p=>p.size<=aa,{message:"El archivo es demasiado grande"})}),j=Ve(V),T=Fe({validationSchema:j,initialValues:{number_of_tickets:d.value.number_of_tickets}}),S=()=>{d.value.prizes.push({key:$e().slice(-10),name:"",prize_value:"",image:null,thumb_hash:null})},z=p=>{d.value.prizes.length>1&&d.value.prizes.find(D=>D.key===p)&&(d.value.prizes=d.value.prizes.filter(D=>D.key!==p))},x=async p=>{const m=await fa(p,p.name,"covers");return m==null?void 0:m.fullPath},h=p=>new Promise((m,D)=>{x(p.image).then(P=>{m({draw_id:parseInt(p.draw_id),name:p.name,description:p.description,image_path:P,thumb_hash:d.value.thumb_hash,number_of_tickets:p.number_of_tickets,ticket_price:p.ticket_price})}).catch(P=>{D(P)})}),O=p=>Promise.all(p.prizes.map((m,D)=>new Promise((P,q)=>{x(m.image).then(Z=>{P({name:m.name,prize_value:m.prize_value,image_path:Z,thumb_hash:d.value.prizes[D].thumb_hash})}).catch(Z=>{q(Z)})}))),W=async p=>{const m=await h(p),D=await O(p);return{...m,prizes:D}},E=T.handleSubmit(async p=>{o.value=!0,T.setErrors({});const m=await W(p);rt(m).then(()=>{me.emit("createRaffle")}).catch(D=>{console.error(D)}).finally(()=>{o.value=!1})},({errors:p})=>{const m=Object.keys(p)[0].replace("[",".").replace("]",""),D=document.querySelector(`[name="${m}"]`);D&&D.scrollIntoView({behavior:"smooth",block:"center"})}),N=A(()=>u.withoutActions===""||u.withoutActions===!0),b=le(!1),te=()=>{b.value=!1},J=async p=>{te(),await re(),ua(()=>{d.value.draw_id=p.toString(),T.setFieldValue("draw_id",p.toString()),T.setFieldTouched("draw_id",!0)})},re=async()=>{o.value=!0,await ya().then(p=>i.value=p).finally(()=>o.value=!1)};return Ue(async()=>{await re()}),(p,m)=>{const D=we("auto-animate");return s(),_("form",{onSubmit:m[6]||(m[6]=je((...P)=>e(E)&&e(E)(...P),["prevent"])),class:"flex w-full flex-col gap-2 @container/form","aria-disabled":o.value},[n("fieldset",{disabled:o.value},[a(e(R),{name:"name"},{default:t(({componentField:P})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>m[7]||(m[7]=[y("Nombre")])),_:1}),a(e(L),null,{default:t(()=>[a(e(ne),k({type:"text",placeholder:"Nombre de la Rifa"},P,{"model-value":d.value.name,"onUpdate:modelValue":m[0]||(m[0]=q=>d.value.name=q),required:""}),null,16,["model-value"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[D]])]),_:2},1024)]),_:1}),a(e(R),{name:"draw_id"},{default:t(({componentField:P})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>m[8]||(m[8]=[y("Sorteo")])),_:1}),a(e(Te),k(P,{"model-value":d.value.draw_id,"onUpdate:modelValue":m[2]||(m[2]=q=>d.value.draw_id=q)}),{default:t(()=>[a(e(L),null,{default:t(()=>[n("div",Ht,[a(e(Ae),null,{default:t(()=>[a(e(Ie),{placeholder:"Elige un sorteo"})]),_:1}),a(e(De),{open:b.value,"onUpdate:open":m[1]||(m[1]=q=>b.value=q)},{default:t(()=>[a(e(ca),{"as-child":""},{default:t(()=>[a(e(X),{variant:"outline",type:"button"},{default:t(()=>[a(e(ue),{class:"h-6 w-6"})]),_:1})]),_:1}),a(e(Pe),null,{default:t(()=>[a(e(Be),null,{default:t(()=>[a(e(qe),null,{default:t(()=>m[9]||(m[9]=[y("Crear nuevo sorteo")])),_:1}),a(ka,{onSuccess:J,onCancel:te})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1}),a(e(He),null,{default:t(()=>[a(e(Oe),null,{default:t(()=>[a(e(Ke),null,{default:t(()=>m[10]||(m[10]=[y("Sorteos")])),_:1}),i.value.length===0?(s(),_("div",Ot,"No hay sorteos")):ie("",!0),(s(!0),_(ae,null,ee(i.value,q=>(s(),g(e(We),{key:q.id,value:q.id.toString()},{default:t(()=>[y(K(q.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040,["model-value"]),F((s(),_("div",null,[a(e(H))])),[[D]])]),_:2},1024)]),_:1}),a(e(R),{name:"description"},{default:t(({componentField:P})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>m[11]||(m[11]=[y("Descripción")])),_:1}),a(e(L),null,{default:t(()=>[a(e($a),k({type:"text",placeholder:"Descripción de la Rifa"},P,{"model-value":d.value.description,"onUpdate:modelValue":m[3]||(m[3]=q=>d.value.description=q)}),null,16,["model-value"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[D]])]),_:2},1024)]),_:1}),a(e(R),{name:"number_of_tickets"},{default:t(({componentField:P})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>m[12]||(m[12]=[y("Número de Bonos:")])),_:1}),a(e(L),null,{default:t(()=>[a(e(ne),k({type:"number",inputmode:"numeric",placeholder:"Nombre de la Rifa"},P,{"model-value":d.value.number_of_tickets,"onUpdate:modelValue":m[4]||(m[4]=q=>d.value.number_of_tickets=q),required:""}),null,16,["model-value"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[D]])]),_:2},1024)]),_:1}),a(e(R),{name:"ticket_price"},{default:t(({value:P,handleChange:q})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>m[13]||(m[13]=[y("Costo del Bono")])),_:1}),a(e(L),null,{default:t(()=>[a(Me,{"model-value":P,"onUpdate:modelValue":Z=>{q(Z,!0),d.value.ticket_price=Z.toString()},required:""},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[D]])]),_:2},1024)]),_:1}),a(e(R),{name:"image"},{default:t(({componentField:P})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>m[14]||(m[14]=[y("Portada de la rifa")])),_:1}),a(e(L),null,{default:t(()=>[a(ke,k(P,{base64ThumbHash:d.value.thumb_hash,"onUpdate:base64ThumbHash":m[5]||(m[5]=q=>d.value.thumb_hash=q)}),null,16,["base64ThumbHash"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[D]])]),_:2},1024)]),_:1}),n("div",Kt,[F((s(),_("fieldset",Wt,[n("legend",Gt,[a(e(xe),{class:"h-8 w-8"}),m[15]||(m[15]=n("span",null,"Premios",-1))]),(s(!0),_(ae,null,ee(d.value.prizes,(P,q)=>(s(),_("div",{class:"relative w-full",key:P.key},[d.value.prizes.length>1?(s(),_("button",{key:0,type:"button",class:"absolute right-0 top-0 rounded-xl bg-background",onClick:Z=>z(P.key)},[a(e(xa),{class:"h-8 w-8"})],8,Zt)):ie("",!0),n("fieldset",Yt,[n("legend",Xt,"Premio "+K(q+1),1),a(e(R),{name:"prizes."+q+".name"},{default:t(({componentField:Z})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>m[16]||(m[16]=[y("Nombre")])),_:1}),a(e(L),null,{default:t(()=>[a(e(ne),k({type:"text",placeholder:"Nombre del premio",ref_for:!0},Z,{"model-value":P.name,"onUpdate:modelValue":fe=>P.name=fe,required:""}),null,16,["model-value","onUpdate:modelValue"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[D]])]),_:2},1024)]),_:2},1032,["name"]),a(e(R),{name:"prizes."+q+".prize_value"},{default:t(({value:Z,handleChange:fe})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>m[17]||(m[17]=[y("Valor del premio")])),_:1}),a(e(L),null,{default:t(()=>[a(Me,{"model-value":Z,"onUpdate:modelValue":ve=>{fe(ve,!0),P.prize_value=ve.toString()},required:""},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[D]])]),_:2},1024)]),_:2},1032,["name"]),a(e(R),{name:"prizes."+q+".image"},{default:t(({componentField:Z})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>m[18]||(m[18]=[y("Imagen")])),_:1}),a(e(L),null,{default:t(()=>[a(ke,k({ref_for:!0},Z,{base64ThumbHash:P.thumb_hash,"onUpdate:base64ThumbHash":fe=>P.thumb_hash=fe}),null,16,["base64ThumbHash","onUpdate:base64ThumbHash"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[D]])]),_:2},1024)]),_:2},1032,["name"])])]))),128)),n("div",Jt,[a(e(X),{variant:"outline",type:"button",class:"w-full gap-2 @xl/form:w-auto",onClick:S},{default:t(()=>[a(e(ue),{class:"h-6 w-6"}),m[19]||(m[19]=n("span",null,"Agregar premio",-1))]),_:1})])])),[[D]])]),N.value?ie("",!0):U(p.$slots,"actions",de(k({key:0},{isSubmiting:o.value})),()=>[a(e(M),{class:"flex w-full flex-row items-center justify-end py-2"},{default:t(()=>[F((s(),g(e(X),{type:"submit",class:"w-full gap-2 @xl/form:w-auto"},{default:t(()=>[o.value?(s(),g(e(ye),{key:0,class:"h-6 w-6"})):(s(),g(e(ue),{key:1,class:"h-6 w-6"})),m[20]||(m[20]=n("span",null,"Crear",-1))]),_:1})),[[D]])]),_:1})])],8,It)],40,At)}}}),Sa=r=>new Promise(l=>setTimeout(l,r)),el=["aria-disabled"],al=["disabled"],tl={class:"flex flex-row gap-2"},ll={key:0,class:"p-4",value:""},sl={class:"grid gap-4 sm:grid-cols-2 sm:gap-6"},ol={class:"col-span-2 flex flex-col gap-4 rounded-md border p-4"},nl={class:"flex gap-2 text-lg font-medium"},rl=["onClick"],il={class:"w-full rounded-md border p-4"},ul={class:"text-lg font-medium"},dl={class:"flex w-full flex-row items-center justify-end py-2"},ta=1,la=5e6,fl=B({__name:"RaffleUpdateForm",props:_e({withoutActions:{type:[Boolean,String],default:!1},raffle:{}},{isSubmiting:{type:Boolean,required:!1,default:!1},isSubmitingModifiers:{}}),emits:_e(["success"],["update:isSubmiting"]),setup(r,{emit:l}){const u=["image/jpeg","image/jpg","image/png","image/webp"],o=r,i=v.object({draw_id:v.string({required_error:"Sorteo es requerido"}).refine(f=>W.value.some(c=>c.id.toString()===f),{message:"El Sorteo no existe"}),name:v.string({required_error:"Nombre es requerido"}).min(3,{message:"Nombre debe tener al menos 3 caracteres"}),description:v.union([v.string({required_error:"La descripción es requerida"}).min(3,{message:"La descripción debe tener al menos 3 caracteres"}).optional(),v.undefined()]),prizes:v.array(v.object({key:v.string({required_error:"Clave es requerida"}),id:v.union([v.string().optional(),v.undefined()]),raffle_id:v.string({required_error:"El sorteo es requerido"}),name:v.string({required_error:"Nombre es requerido"}).min(3,{message:"Nombre debe tener al menos 3 caracteres"}),prize_value:v.string({required_error:"El valor es requerido"}).transform(f=>parseFloat(f)).refine(f=>!isNaN(f)&&f>=1,{message:"El valor debe ser un número mayor o igual a 1"}),image_touched:v.boolean().default(!0),image:v.union([v.instanceof(File,{message:"Debe seleccionar una imagen"}).refine(f=>u.includes(f.type),{message:"Tipo de archivo no aceptado"}).refine(f=>f.size>=ta,{message:"El archivo está vacío"}).refine(f=>f.size<=la,{message:"La imagen es demasiado grande"}),v.undefined()])}).refine(f=>f.image_touched?f.image instanceof File:!0,{message:"La imagen es requerida cuando se ha tocado el campo",path:["image"]})).min(1),image_touched:v.boolean().default(!0),image:v.union([v.instanceof(File,{message:"Debe seleccionar una imagen"}).refine(f=>u.includes(f.type),{message:"Tipo de archivo no aceptado"}).refine(f=>f.size>=ta,{message:"El archivo está vacío"}).refine(f=>f.size<=la,{message:"El archivo es demasiado grande"}),v.undefined()])}).refine(f=>f.image_touched?f.image instanceof File:!0,{message:"La imagen es requerida cuando se ha tocado el campo",path:["image"]}),d=Ve(i),V={draw_id:o.raffle.draw_id.toString(),name:o.raffle.name,description:o.raffle.description,prizes:o.raffle.prizes.map(f=>({key:$e().slice(-10).toString(),id:f.id.toString(),raffle_id:f.raffle_id.toString(),name:f.name,prize_value:f.prize_value.toString(),thumb_hash:f.thumb_hash,image_path:f.image_path,image_touched:!f.image_path,image:void 0})),thumb_hash:o.raffle.thumb_hash,image_path:o.raffle.image_path,image_touched:!o.raffle.image_path,image:void 0},{handleSubmit:j,values:T,setValues:S,setErrors:z,setFieldValue:x,setFieldTouched:h}=Fe({validationSchema:d,initialValues:V}),O=ge(r,"isSubmiting"),W=le([]),E=le(V),N=l,b=()=>{const f={key:$e().slice(-10).toString(),id:void 0,raffle_id:o.raffle.id.toString(),name:"",prize_value:"",image_touched:!0,image:void 0};S({...T,prizes:[...T.prizes,f]},!1)},te=f=>{var c;E.value.prizes.length>1&&S({...T,prizes:(c=T.prizes)==null?void 0:c.filter($=>$.key!==f)},!1)},J=async f=>{const c=await fa(f,f.name,"covers");return c==null?void 0:c.fullPath},re=async(f,c)=>{const $=await new Promise((w,C)=>{f.image_touched&&f.image?J(f.image).then(Y=>{w(Y)}).catch(Y=>{C(Y)}):w(c.value.image_path)});return{id:o.raffle.id,draw_id:Number(f.draw_id),name:f.name,description:f.description,image_path:$,thumb_hash:c.value.thumb_hash}},p=(f,c)=>Promise.all(f.prizes.map(async $=>{const w=await new Promise((C,Y)=>{var Q,be;$.image_touched?$.image?J($.image).then(ce=>{C(ce)}).catch(ce=>{Y(ce)}):C(((Q=c.value.prizes.find(ce=>ce.key===$.key))==null?void 0:Q.image_path)||null):C(((be=c.value.prizes.find(ce=>ce.key===$.key))==null?void 0:be.image_path)||null)});return{id:$.id,raffle_id:Number($.raffle_id),name:$.name,prize_value:Number($.prize_value),image_path:w,thumb_hash:c.value.thumb_hash}})),m=async(f,c)=>{const $=await re(f,c),w=await p(f,c);return{...$,prizes:w}},D=j(async f=>{O.value=!0,console.log(f),z({});const c=await m(f,E);await Sa(1e3),console.log(c),await it(c).then(()=>{N("success"),me.emit("updateRaffle")}).catch($=>{console.error($)}).finally(()=>{O.value=!1})},({errors:f})=>{console.log(f),console.log(T);const c=Object.keys(f)[0].replace("[",".").replace("]",""),$=document.querySelector(`[name="${c}"]`);$&&$.scrollIntoView({behavior:"smooth",block:"center"})}),P=A(()=>o.withoutActions===""||o.withoutActions===!0),q=le(!1),Z=()=>{q.value=!1},fe=async f=>{Z(),await ve(),ua(()=>{E.value.draw_id=f.toString(),x("draw_id",f.toString()),h("draw_id",!0)})},ve=async()=>{O.value=!0,await ya().then(f=>W.value=f).finally(()=>O.value=!1)};return Ue(async()=>{await ve()}),ia(T,f=>{E.value={...f,draw_id:f.draw_id,name:f.name,description:f.description,image_path:E.value.image_path,thumb_hash:E.value.thumb_hash,image_touched:f.image_touched,image:f.image,prizes:f.prizes.map((c,$)=>{var w,C;return{...c,id:c.id,image_path:((w=E.value.prizes[$])==null?void 0:w.image_path)||null,thumb_hash:((C=E.value.prizes[$])==null?void 0:C.thumb_hash)||null,image_touched:c.image_touched,image:c.image}})}},{deep:!0}),(f,c)=>{const $=we("auto-animate");return s(),_("form",{onSubmit:c[6]||(c[6]=je((...w)=>e(D)&&e(D)(...w),["prevent"])),class:"flex w-full flex-col gap-2 @container/form","aria-disabled":O.value},[n("fieldset",{disabled:O.value},[a(e(R),{name:"name"},{default:t(({componentField:w})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>c[7]||(c[7]=[y("Nombre")])),_:1}),a(e(L),null,{default:t(()=>[a(e(ne),k({type:"text",placeholder:"Nombre de la Rifa"},w,{"model-value":E.value.name,"onUpdate:modelValue":c[0]||(c[0]=C=>E.value.name=C),required:""}),null,16,["model-value"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[$]])]),_:2},1024)]),_:1}),a(e(R),{name:"draw_id"},{default:t(({componentField:w})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>c[8]||(c[8]=[y("Sorteo")])),_:1}),a(e(Te),k(w,{"model-value":E.value.draw_id,"onUpdate:modelValue":c[2]||(c[2]=C=>E.value.draw_id=C)}),{default:t(()=>[a(e(L),null,{default:t(()=>[n("div",tl,[a(e(Ae),null,{default:t(()=>[a(e(Ie),{placeholder:"Elige un sorteo"})]),_:1}),a(e(De),{open:q.value,"onUpdate:open":c[1]||(c[1]=C=>q.value=C)},{default:t(()=>[a(e(ca),{"as-child":""},{default:t(()=>[a(e(X),{variant:"outline",type:"button"},{default:t(()=>[a(e(ue),{class:"h-6 w-6"})]),_:1})]),_:1}),a(e(Pe),null,{default:t(()=>[a(e(Be),null,{default:t(()=>[a(e(qe),null,{default:t(()=>c[9]||(c[9]=[y("Crear nuevo sorteo")])),_:1}),a(ka,{onSuccess:fe,onCancel:Z})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1}),a(e(He),null,{default:t(()=>[a(e(Oe),null,{default:t(()=>[a(e(Ke),null,{default:t(()=>c[10]||(c[10]=[y("Sorteos")])),_:1}),W.value.length===0?(s(),_("div",ll,"No hay sorteos")):ie("",!0),(s(!0),_(ae,null,ee(W.value,C=>(s(),g(e(We),{key:C.id,value:C.id.toString()},{default:t(()=>[y(K(C.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040,["model-value"]),F((s(),_("div",null,[a(e(H))])),[[$]])]),_:2},1024)]),_:1}),a(e(R),{name:"description"},{default:t(({componentField:w})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>c[11]||(c[11]=[y("Descripción")])),_:1}),a(e(L),null,{default:t(()=>[a(e($a),k({type:"text",placeholder:"Descripción de la Rifa"},w,{"model-value":E.value.description,"onUpdate:modelValue":c[3]||(c[3]=C=>E.value.description=C)}),null,16,["model-value"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[$]])]),_:2},1024)]),_:1}),a(e(R),{name:"image"},{default:t(({componentField:w})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>c[12]||(c[12]=[y("Portada de la rifa")])),_:1}),a(e(L),null,{default:t(()=>[a(ke,k(w,{base64ThumbHash:E.value.thumb_hash,"onUpdate:base64ThumbHash":c[4]||(c[4]=C=>E.value.thumb_hash=C),label:E.value.image_path||void 0,initialImage:e(Se)(E.value.image_path),onTouched:c[5]||(c[5]=()=>{console.log("ImageInput touched"),e(x)("image_touched",!0)})}),null,16,["base64ThumbHash","label","initialImage"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[$]])]),_:2},1024)]),_:1}),n("div",sl,[F((s(),_("fieldset",ol,[n("legend",nl,[a(e(xe),{class:"h-8 w-8"}),c[13]||(c[13]=n("span",null,"Premios",-1))]),(s(!0),_(ae,null,ee(E.value.prizes,(w,C)=>(s(),_("div",{class:"relative w-full",key:w.key},[E.value.prizes.length>1?(s(),_("button",{key:0,type:"button",class:"absolute right-0 top-0 rounded-xl bg-background",onClick:Y=>te(w.key)},[a(e(xa),{class:"h-8 w-8"})],8,rl)):ie("",!0),n("fieldset",il,[n("legend",ul,"Premio "+K(C+1),1),a(e(R),{name:`prizes.${C}.key`},{default:t(({componentField:Y})=>[a(e(M),null,{default:t(()=>[a(e(L),null,{default:t(()=>[a(e(ne),k({type:"hidden",ref_for:!0},Y,{"model-value":w.key,"onUpdate:modelValue":Q=>w.key=Q,touched:"",required:""}),null,16,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["name"]),a(e(R),{name:`prizes.${C}.raffle_id`},{default:t(({componentField:Y})=>[a(e(M),null,{default:t(()=>[a(e(L),null,{default:t(()=>[a(e(ne),k({type:"hidden",ref_for:!0},Y,{"model-value":w.raffle_id,"onUpdate:modelValue":Q=>w.raffle_id=Q,touched:"",required:""}),null,16,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["name"]),a(e(R),{name:`prizes.${C}.name`},{default:t(({componentField:Y})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>c[14]||(c[14]=[y("Nombre")])),_:1}),a(e(L),null,{default:t(()=>[a(e(ne),k({type:"text",placeholder:"Nombre del premio",ref_for:!0},Y,{"model-value":w.name,"onUpdate:modelValue":Q=>w.name=Q,required:""}),null,16,["model-value","onUpdate:modelValue"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[$]])]),_:2},1024)]),_:2},1032,["name"]),a(e(R),{name:`prizes.${C}.prize_value`},{default:t(({value:Y,handleChange:Q})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>c[15]||(c[15]=[y("Valor del premio")])),_:1}),a(e(L),null,{default:t(()=>[a(Me,{"model-value":Y,"onUpdate:modelValue":be=>{Q(be,!0),w.prize_value=be.toString()},required:""},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[$]])]),_:2},1024)]),_:2},1032,["name"]),a(e(R),{name:`prizes.${C}.image`},{default:t(({componentField:Y})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>c[16]||(c[16]=[y("Imagen")])),_:1}),a(e(L),null,{default:t(()=>[a(ke,k({ref_for:!0},Y,{base64ThumbHash:w.thumb_hash,"onUpdate:base64ThumbHash":Q=>w.thumb_hash=Q,label:w.image_path||void 0,initialImage:w.image_path?e(Se)(w.image_path):void 0,onTouched:()=>{console.log("ImageInput touched"),e(x)(`prizes.${C}.image_touched`,!0)}}),null,16,["base64ThumbHash","onUpdate:base64ThumbHash","label","initialImage","onTouched"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[$]])]),_:2},1024)]),_:2},1032,["name"])])]))),128)),n("div",dl,[a(e(X),{variant:"outline",type:"button",class:"w-full gap-2 @xl/form:w-auto",onClick:b},{default:t(()=>[a(e(ue),{class:"h-6 w-6"}),c[17]||(c[17]=n("span",null,"Agregar premio",-1))]),_:1})])])),[[$]])]),P.value?ie("",!0):U(f.$slots,"actions",de(k({key:0},{isSubmiting:O.value})),()=>[a(e(M),{class:"flex w-full flex-row items-center justify-end py-2"},{default:t(()=>[F((s(),g(e(X),{type:"submit",class:"w-full gap-2 @xl/form:w-auto"},{default:t(()=>[O.value?(s(),g(e(ye),{key:0,class:"h-6 w-6"})):(s(),g(e(ue),{key:1,class:"h-6 w-6"})),c[18]||(c[18]=n("span",null,"Crear",-1))]),_:1})),[[$]])]),_:1})])],8,al)],40,el)}}}),cl={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ml(r,l){return s(),_("svg",cl,l[0]||(l[0]=[n("g",{fill:"none"},[n("path",{stroke:"currentColor","stroke-width":"1.5",d:"M5.312 10.762C8.23 5.587 9.689 3 12 3s3.77 2.587 6.688 7.762l.364.644c2.425 4.3 3.638 6.45 2.542 8.022S17.786 21 12.364 21h-.728c-5.422 0-8.134 0-9.23-1.572s.117-3.722 2.542-8.022z",opacity:".5"}),n("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"1.5",d:"M12 8v5"}),n("circle",{cx:"12",cy:"16",r:"1",fill:"currentColor"})],-1)]))}const pl=pe({name:"solar-danger-triangle-line-duotone",render:ml}),_l={class:"flex flex-row items-center justify-start gap-6"},Ee="borrar",gl=B({__name:"DeleteRaffleDialog",props:_e({raffle_id:{type:Number,required:!0}},{open:{type:Boolean,required:!1,default:!1},openModifiers:{},isSubmiting:{type:Boolean,required:!1,default:!1},isSubmitingModifiers:{}}),emits:_e(["success","cancel"],["update:open","update:isSubmiting"]),setup(r,{emit:l}){const u=r,o=ge(r,"open"),i=ge(r,"isSubmiting"),d=l,V=Ve(v.object({security:v.string({required_error:"La frase de seguridad es requerida"}).refine(x=>x===Ee,{message:"La frase de seguridad no coincide"})})),{handleSubmit:j,values:T}=Fe({validationSchema:V}),S=j(async x=>{console.log("Form submitted!",x),i.value=!0,await Sa(1e3),await ut(u.raffle_id).then(h=>{console.log(h),me.emit("deleteRaffle"),d("success")}).catch(h=>{console.log(h)}).finally(()=>{i.value=!1})}),z=A(()=>T.security===Ee);return(x,h)=>{const O=we("auto-animate");return s(),g(e(De),{open:o.value,"onUpdate:open":h[2]||(h[2]=W=>o.value=W)},{default:t(()=>[a(e(Pe),{onEscapeKeyDown:h[1]||(h[1]=W=>W.preventDefault()),class:"max-h-[calc(100dvh-1rem)] w-[calc(100vw-1rem)] max-w-xl rounded-lg transition-[opacity,_transform]"},{default:t(()=>[a(e(Be),null,{default:t(()=>[a(e(qe),null,{default:t(()=>[n("div",_l,[a(e(pl),{class:"h-16 w-16 text-red-800"}),h[3]||(h[3]=n("div",{class:"flex flex-col gap-0 text-left"},[n("p",{class:"text-lg font-semibold"},"¿Seguro que deseas eliminar esta rifa?"),n("p",{class:"text-red-800"},"Esta operación no se puede deshacer")],-1))])]),_:1})]),_:1}),a(e(ot),null,{default:t(()=>[h[5]||(h[5]=n("p",null,"Esto eliminara la rifa de todos los vendedores, las boletas y los premios.",-1)),n("form",{onSubmit:h[0]||(h[0]=(...W)=>e(S)&&e(S)(...W)),id:"delete-raffle-form",class:"mt-4 w-full"},[a(e(R),{name:"security","validate-on-model-update":!0,"validate-on-change":!0,"validate-on-input":!0,"validate-on-blur":!1},{default:t(({componentField:W})=>[a(e(M),null,{default:t(()=>[a(e(I),null,{default:t(()=>[h[4]||(h[4]=y("Ingrese la palabra ")),n("span",{class:"text-base font-extrabold text-foreground"},'"'+K(Ee)+'"')]),_:1}),a(e(L),null,{default:t(()=>[a(e(ne),k({type:"text",placeholder:""},W,{disabled:i.value,required:""}),null,16,["disabled"])]),_:2},1024),F((s(),_("div",null,[a(e(H))])),[[O]])]),_:2},1024)]),_:1})],32)]),_:1}),a(e(ma),null,{default:t(()=>[a(e(pa),{disabled:i.value},{default:t(()=>h[6]||(h[6]=[y("Cancelar")])),_:1},8,["disabled"]),a(e(X),{variant:"destructive",disabled:i.value||!z.value,type:"submit",form:"delete-raffle-form",class:"gap-3"},{default:t(()=>[i.value?(s(),g(e(ye),{key:0,class:"h-6 w-6"})):(s(),g(e(wa),{key:1,class:"h-6 w-6"})),n("span",null,K(i.value?"Eliminando...":"Eliminar rifa"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])}}}),hl={class:"flex flex-row items-center justify-start gap-2"},vl={class:"relative overflow-y-auto px-3 py-4 sm:px-6"},bl={class:"flex w-full gap-2 sm:w-auto"},wl=B({__name:"RaffleDialog",props:_e({raffle:{type:Object,required:!1}},{open:{type:Boolean,default:!1},openModifiers:{},isSubmiting:{type:Boolean,default:!1},isSubmitingModifiers:{}}),emits:["update:open","update:isSubmiting"],setup(r){const l=r,u=ge(r,"open"),o=ge(r,"isSubmiting"),i=le(!1),d=A(()=>o.value?ye:l.raffle?mt:ue),V=()=>{i.value=!0},j=()=>{i.value=!1};return me.on("deleteRaffle",j),da(()=>{me.off("deleteRaffle",j)}),(T,S)=>{const z=we("auto-animate");return s(),g(e(De),{open:u.value,"onUpdate:open":S[4]||(S[4]=x=>u.value=x)},{default:t(()=>[a(e(Pe),{onEscapeKeyDown:S[2]||(S[2]=x=>x.preventDefault()),class:"max-h-[calc(100dvh-1rem)] w-[calc(100vw-1rem)] max-w-2xl grid-rows-[auto_minmax(0,1fr)_auto] gap-0 rounded-lg p-0 transition-[opacity,_transform]"},{default:t(()=>[a(e(Be),{class:"border-b px-3 py-2 sm:p-6 sm:pb-4"},{default:t(()=>[a(e(qe),null,{default:t(()=>[n("div",hl,[a(e(Ne),{class:"h-8 w-8"}),n("span",null,K(l.raffle?`Editar rifa: ${l.raffle.name}`:"Nueva rifa"),1)])]),_:1})]),_:1}),n("div",vl,[l.raffle?(s(),g(fl,{key:0,withoutActions:"",id:"raffle-form",raffle:l.raffle,"is-submiting":o.value,"onUpdate:isSubmiting":S[0]||(S[0]=x=>o.value=x)},null,8,["raffle","is-submiting"])):(s(),g(Qt,{key:1,withoutActions:"",id:"raffle-form",isSubmiting:o.value,"onUpdate:isSubmiting":S[1]||(S[1]=x=>o.value=x)},null,8,["isSubmiting"]))]),a(e(ma),{class:"gap-2 border-t p-2 sm:p-6"},{default:t(()=>[a(e(pa),{"as-child":""},{default:t(()=>[a(e(X),{class:"m-0",variant:"secondary",type:"button",disabled:o.value},{default:t(()=>S[5]||(S[5]=[y("Cancelar")])),_:1},8,["disabled"])]),_:1}),n("div",bl,[l.raffle?(s(),g(e(X),{key:0,class:"w-full",variant:"destructive",type:"button",disabled:o.value,onClick:V},{default:t(()=>[a(e(wa),{class:"h-6 w-6"}),S[6]||(S[6]=n("span",null,"Eliminar rifa",-1))]),_:1},8,["disabled"])):ie("",!0),F((s(),g(e(X),{class:"w-full gap-3",form:"raffle-form",type:"submit",disabled:o.value},{default:t(()=>[(s(),g(Za(d.value),{class:"h-6 w-6"})),n("span",null,K(l.raffle?"Actualizar":"Crear"),1)]),_:1},8,["disabled"])),[[z]])])]),_:1})]),_:1}),l.raffle?(s(),g(gl,{key:0,raffle_id:l.raffle.id,open:i.value,"onUpdate:open":S[3]||(S[3]=x=>i.value=x)},null,8,["raffle_id","open"])):ie("",!0)]),_:1},8,["open"])}}}),yl={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function xl(r,l){return s(),_("svg",yl,l[0]||(l[0]=[n("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[n("path",{d:"M17.667 2H6.333c-.31 0-.464 0-.594.012c-1.45.133-2.6 1.34-2.728 2.861C3 5.01 3 5.173 3 5.497V20.26c0 .872 1.059 1.243 1.558.544a.84.84 0 0 1 1.384 0l.433.606a1.367 1.367 0 0 0 2.25 0a1.367 1.367 0 0 1 2.25 0a1.367 1.367 0 0 0 2.25 0a1.367 1.367 0 0 1 2.25 0a1.367 1.367 0 0 0 2.25 0l.433-.605a.84.84 0 0 1 1.384 0c.5.698 1.558.327 1.558-.545V5.497c0-.324 0-.487-.011-.624c-.127-1.521-1.277-2.728-2.727-2.861C18.13 2 17.976 2 17.667 2Z",opacity:".5"}),n("path",{"stroke-linecap":"round",d:"M7.5 15.5h9M14 8l-4 4m0-4l4 4"})],-1)]))}const $l=pe({name:"solar-bill-cross-line-duotone",render:xl}),sa=B({__name:"Accordion",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(r,{emit:l}){const i=ze(r,l);return(d,V)=>(s(),g(e(Ya),de(he(e(i))),{default:t(()=>[U(d.$slots,"default")]),_:3},16))}}),oa=B({__name:"AccordionContent",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:o,...i}=l;return i});return(o,i)=>(s(),g(e(Xa),k(u.value,{class:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"}),{default:t(()=>[n("div",{class:Ce(e(G)("pb-4 pt-0",l.class))},[U(o.$slots,"default")],2)]),_:3},16))}}),na=B({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:i,...d}=l;return d}),o=oe(u);return(i,d)=>(s(),g(e(Ja),k(e(o),{class:e(G)("border-b",l.class)}),{default:t(()=>[U(i.$slots,"default")]),_:3},16,["class"]))}}),ra=B({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const l=r,u=A(()=>{const{class:o,...i}=l;return i});return(o,i)=>(s(),g(e(et),{class:"flex"},{default:t(()=>[a(e(Qa),k(u.value,{class:e(G)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",l.class)}),{default:t(()=>[U(o.$slots,"default"),U(o.$slots,"icon",{},()=>[a(e(lt),{class:"h-4 w-4 shrink-0 transition-transform duration-200"})])]),_:3},16,["class"])]),_:3}))}}),kl={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Sl(r,l){return s(),_("svg",kl,l[0]||(l[0]=[n("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[n("path",{d:"M2 12c0-3.771 0-5.657 1.172-6.828S6.229 4 10 4h4c3.771 0 5.657 0 6.828 1.172S22 8.229 22 12v2c0 3.771 0 5.657-1.172 6.828S17.771 22 14 22h-4c-3.771 0-5.657 0-6.828-1.172S2 17.771 2 14z"}),n("path",{"stroke-linecap":"round",d:"M7 4V2.5M17 4V2.5M2 9h20",opacity:".5"}),n("circle",{cx:"16.5",cy:"16.5",r:"1.5"})],-1)]))}const Cl=pe({name:"solar-calendar-mark-line-duotone",render:Sl}),zl={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Dl(r,l){return s(),_("svg",zl,l[0]||(l[0]=[n("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[n("path",{"stroke-linecap":"round",d:"M22 10.5V12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12s0-7.071 1.464-8.536C4.93 2 7.286 2 12 2h1.5",opacity:".5"}),n("path",{d:"m17.3 2.806l-.648.65l-5.965 5.964c-.404.404-.606.606-.78.829q-.308.395-.524.848c-.121.255-.211.526-.392 1.068L8.412 13.9l-.374 1.123a.742.742 0 0 0 .94.939l1.122-.374l1.735-.579c.542-.18.813-.27 1.068-.392q.453-.217.848-.524c.223-.174.425-.376.83-.78l5.964-5.965l.649-.649A2.753 2.753 0 0 0 17.3 2.806Z"}),n("path",{d:"M16.652 3.455s.081 1.379 1.298 2.595c1.216 1.217 2.595 1.298 2.595 1.298M10.1 15.588L8.413 13.9",opacity:".5"})],-1)]))}const Pl=pe({name:"solar-pen-new-square-line-duotone",render:Dl}),Bl={class:"flex w-full flex-row justify-between"},ql={class:"flex items-center gap-2"},Vl={class:"flex items-center gap-2"},Fl={class:"text-sm"},El={class:"flex items-center gap-2"},Ml={class:"w-full"},Nl={class:"text-sm"},Ll={class:"flex w-full flex-col justify-between gap-4 text-muted-foreground sm:flex-row"},Rl={class:"w-full"},Ul={class:"text-nowrap text-sm"},jl={class:"w-full rounded-md border"},Tl={class:"flex grow flex-col items-stretch gap-x-2 gap-y-4 sm:flex-row sm:items-center sm:justify-end"},Al=B({__name:"RaffleCard",props:{raffle:{type:Object,required:!0,default:()=>{}}},setup(r){const l=r,u=le(!1),o=le(!1),i=()=>{u.value=!0},d=()=>{u.value=!1},V=S=>tt(new Date(S),"dddd DD [de] MMMM [de] YYYY",{locales:"es-CO"}),j=S=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(S),T=()=>{d()};return me.on("deleteRaffle",T),da(()=>{me.off("deleteRaffle",T)}),(S,z)=>{const x=at("RouterLink");return s(),g(e(ha),{class:"overflow-hidden"},{default:t(()=>[a(Xe,{class:"aspect-[16/7] w-full object-cover",src:e(Se)(l.raffle.image_path),thumbHash:l.raffle.thumb_hash},null,8,["src","thumbHash"]),a(e(_a),null,{default:t(()=>[n("div",Bl,[a(e(dt),{class:"capitalize"},{default:t(()=>[y(K(l.raffle.raffle_name),1)]),_:1}),a(e(xe),{class:"h-6 w-6"})]),a(e(va),null,{default:t(()=>[n("div",ql,[a(e(Cl),{class:"inline-block h-4 w-4"}),n("p",null,[n("span",null,"Juega el "+K(V(l.raffle.draw_drawn_at)),1)])]),n("div",Vl,[a(e(Ne),{class:"inline-block h-4 w-4"}),n("p",null,[n("span",null,K(l.raffle.total_tickets)+" boletas",1)])])]),_:1})]),_:1}),a(e(ga),null,{default:t(()=>[n("p",Fl,K(l.raffle.description),1),a(e(sa),{class:"mt-4 w-full rounded-xl border p-0",type:"single",collapsible:""},{default:t(()=>[a(e(na),{class:"border-b px-0 py-0 last:border-none last:pb-0",value:"prizes"},{default:t(()=>[a(e(ra),{class:"px-4 py-2"},{default:t(()=>[n("div",El,[a(e(xe),{class:"h-4 w-4"}),z[2]||(z[2]=n("h2",null,"Premios:",-1))])]),_:1}),a(e(oa),{class:"pb-0"},{default:t(()=>[n("div",Ml,[a(e(sa),{type:"single",collapsible:""},{default:t(()=>[(s(!0),_(ae,null,ee(r.raffle.prizes,h=>(s(),g(e(na),{class:"border-b px-4 py-0 last:border-none last:pb-0",key:h.id,value:h.id.toString()},{default:t(()=>[a(e(ra),{class:"py-3"},{default:t(()=>[n("span",Nl,K(h.name),1)]),_:2},1024),a(e(oa),null,{default:t(()=>[n("div",Ll,[n("div",Rl,[n("p",Ul," Valor del premio: "+K(j(h.prize_value)),1)]),n("div",jl,[a(Xe,{class:"aspect-video w-full object-contain",src:e(Se)(h.image_path),"thumb-hash":h.thumb_hash},null,8,["src","thumb-hash"])])])]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),a(e(ba),{class:"flex-col items-stretch gap-x-2 gap-y-4 sm:flex-row sm:items-center sm:justify-stretch"},{default:t(()=>[a(e(X),{variant:"secondary",type:"button",class:"justify-start gap-2",onClick:i},{default:t(()=>[a(e(Pl),{class:"h-6 w-6"}),z[3]||(z[3]=n("span",null," Editar ",-1))]),_:1}),n("div",Tl,[a(x,{to:{name:"raffle-sellers",params:{id:l.raffle.raffle_id}},custom:""},{default:t(({navigate:h})=>[a(e(X),{type:"button",class:"justify-start gap-2",onClick:h,onKeypress:Ye(h,["enter"]),role:"link"},{default:t(()=>[a(e(st),{class:"h-6 w-6"}),z[4]||(z[4]=n("span",null," Vendedores ",-1))]),_:2},1032,["onClick","onKeypress"])]),_:1},8,["to"]),a(x,{to:{name:"raffle",params:{id:l.raffle.raffle_id}},custom:""},{default:t(({navigate:h})=>[a(e(X),{type:"button",class:"justify-start gap-2",onClick:h,onKeypress:Ye(h,["enter"]),role:"link"},{default:t(()=>[a(e(Ne),{class:"h-6 w-6"}),z[5]||(z[5]=n("span",null," Numeros Disponibles ",-1))]),_:2},1032,["onClick","onKeypress"])]),_:1},8,["to"])])]),_:1}),a(wl,{open:u.value,"onUpdate:open":z[0]||(z[0]=h=>u.value=h),"is-submiting":o.value,"onUpdate:isSubmiting":z[1]||(z[1]=h=>o.value=h),raffle:{id:l.raffle.raffle_id,name:l.raffle.raffle_name,description:l.raffle.description||void 0,draw_id:l.raffle.draw_id,image_path:l.raffle.image_path,thumb_hash:l.raffle.thumb_hash,prizes:l.raffle.prizes}},null,8,["open","is-submiting","raffle"])]),_:1})}}}),Il={class:"flex w-full flex-row justify-between"},Hl={class:"flex w-full flex-col items-center justify-between gap-4 sm:flex-row"},Ol={class:"flex w-full flex-col items-center gap-4 sm:w-auto sm:flex-row"},Kl=B({__name:"RaffleCardSkeleton",setup(r){return(l,u)=>(s(),g(e(ha),{class:"overflow-hidden"},{default:t(()=>[a(se,{class:"aspect-[16/7] w-full rounded-none"}),a(e(_a),null,{default:t(()=>[n("div",Il,[a(se,{class:"h-4 w-32 rounded-full"}),a(se,{class:"h-8 w-8 rounded-full"})]),a(e(va),null,{default:t(()=>[a(se,{class:"h-2 w-20 rounded-full"}),a(se,{class:"mt-2 h-2 w-20 rounded-full"})]),_:1})]),_:1}),a(e(ga),null,{default:t(()=>[a(se,{class:"mt-4 h-2 w-full rounded-full"}),a(se,{class:"mt-5 h-10 w-full rounded-full"})]),_:1}),a(e(ba),{class:"flex-col items-stretch gap-x-2 gap-y-4 sm:flex-row sm:items-center sm:justify-end"},{default:t(()=>[n("div",Hl,[a(se,{class:"h-11 w-full rounded-lg sm:w-20"}),n("div",Ol,[a(se,{class:"h-11 w-full rounded-lg sm:w-24"}),a(se,{class:"h-11 w-full rounded-lg sm:w-24"})])])]),_:1})]),_:1}))}}),Wl={class:"flex w-full max-w-xl flex-col gap-4"},Gl={key:0,class:"flex w-full flex-col gap-4"},Zl={key:1,class:"flex w-full flex-col items-center justify-center gap-4 py-16"},fs=B({__name:"RafflesList",props:{loading:{type:Boolean,default:!1},raffles:{type:Array,required:!0}},setup(r){const l=r;return(u,o)=>(s(),_("div",Wl,[r.loading?(s(),_("div",Gl,[(s(),_(ae,null,ee(2,i=>a(Kl,{key:i})),64))])):l.raffles.length===0?(s(),_("div",Zl,[a(e($l),{class:"h-32 w-32 text-muted-foreground"}),o[0]||(o[0]=n("p",{class:"text-center text-lg text-muted-foreground"},"No hay rifas creadas",-1))])):(s(!0),_(ae,{key:2},ee(l.raffles,i=>(s(),g(Al,{key:i.raffle_id,raffle:i},null,8,["raffle"]))),128))]))}});export{fs as _,wl as a,me as e};
