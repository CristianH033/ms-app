import{d as p,x as N,o as i,j as b,w as t,y as g,z as P,A as T,e,B as H,l as k,C as O,D as B,E as y,G as K,H as X,N as G,I as M,c as w,n as $,J,K as Q,b as s,L as q,M as W,O as Y,a as _,P as Z,r as m,m as ee,p as ae,s as x,F as z,i as S,Q as te,t as I,_ as L,U as se}from"./index-Dy2Zx3DR.js";import{_ as oe}from"./Skeleton.vue_vue_type_script_setup_true_lang-DzTFNl0g.js";import{a as le}from"./raffles-7-vVeYyq.js";import{g as ne}from"./tickets-CjwzgAuA.js";import{_ as re}from"./Input.vue_vue_type_script_setup_true_lang-BCIsu6lh.js";import{S as de}from"./ticket-line-duotone-CuZwHL7x.js";import{S as ce}from"./magnifer-outline-BpsEG1Iy.js";import{c as ie}from"./createLucideIcon-BOVAmmQ2.js";const ue=ie("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pe=p({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(o,{emit:a}){const n=N(o,a);return(d,v)=>(i(),b(e(H),P(T(e(n))),{default:t(()=>[g(d.$slots,"default")]),_:3},16))}}),D=p({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(o){const a=o,l=k(()=>{const{class:n,...d}=a;return d}),c=O(l);return(n,d)=>(i(),b(e(K),B(e(c),{class:e(y)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a.class)}),{default:t(()=>[g(n.$slots,"default")]),_:3},16,["class"]))}}),fe=p({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(o){const a=o,l=k(()=>{const{class:c,...n}=a;return n});return(c,n)=>(i(),b(e(X),B(l.value,{class:e(y)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a.class)}),{default:t(()=>[g(c.$slots,"default")]),_:3},16,["class"]))}}),me=p({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(o,{emit:a}){const n=N(o,a);return(d,v)=>(i(),b(e(G),P(T(e(n))),{default:t(()=>[g(d.$slots,"default")]),_:3},16))}}),_e=p({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(o){const a=o;return(l,c)=>(i(),b(e(M),P(T(a)),{default:t(()=>[g(l.$slots,"default")]),_:3},16))}}),ge=p({__name:"DialogHeader",props:{class:{}},setup(o){const a=o;return(l,c)=>(i(),w("div",{class:$(e(y)("flex flex-col gap-y-1.5 text-center sm:text-left",a.class))},[g(l.$slots,"default")],2))}}),ve=p({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(o){const a=o,l=k(()=>{const{class:n,...d}=a;return d}),c=O(l);return(n,d)=>(i(),b(e(J),B(e(c),{class:e(y)("text-lg font-semibold leading-none tracking-tight",a.class)}),{default:t(()=>[g(n.$slots,"default")]),_:3},16,["class"]))}}),be=p({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(o){const a=o,l=k(()=>{const{class:n,...d}=a;return d}),c=O(l);return(n,d)=>(i(),b(e(Q),B(e(c),{class:e(y)("text-sm text-muted-foreground",a.class)}),{default:t(()=>[g(n.$slots,"default")]),_:3},16,["class"]))}}),xe=_("span",{class:"sr-only"},"Close",-1),ye=p({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:a}){const l=o,c=a,n=k(()=>{const{class:v,...h}=l;return h}),d=N(n,c);return(v,h)=>(i(),b(e(Y),null,{default:t(()=>[s(e(q),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),s(e(W),B(e(d),{class:e(y)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",l.class)}),{default:t(()=>[g(v.$slots,"default"),s(e(M),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:t(()=>[s(e(ue),{class:"w-4 h-4"}),xe]),_:1})]),_:3},16,["class"])]),_:3}))}}),he=p({__name:"DialogFooter",props:{class:{}},setup(o){const a=o;return(l,c)=>(i(),w("div",{class:$(e(y)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",a.class))},[g(l.$slots,"default")],2))}}),we={class:"w-full flex flex-col items-center"},ke={class:"flex flex-col w-full max-w-3xl gap-4"},Be={class:"grow relative"},$e={class:"w-full flex flex-col gap-0 items-stretch"},Ce={className:"bg-secondary/50 border border-b-0 rounded-t-lg py-2 px-4 flex flex-row items-center justify-between"},De=_("h2",{className:"text-3xl py-2 "},"Numeración disponible",-1),Ne={key:0,className:"p-2 border rounded-b-lg grid grid-cols-5 @xl:grid-cols-10 gap-x-2 gap-y-2 place-items-center"},Pe={className:"p-2 border rounded-b-lg grid grid-cols-5 @xl:grid-cols-10 gap-x-2 gap-y-2 place-items-center"},Te={class:"text-2xl"},je=p({__name:"RaffleView",setup(o){const a=Z(),l=m(),c=m([]),n=m(null),d=m("all"),v=m(""),h=m(!1),V=m(!1),C=m(!1),F=m(null),R=m(null),j=k(()=>c.value.filter(r=>E(r)&&A(r))),A=r=>v.value.trim()===""||r.number.toLowerCase().includes(v.value.toLowerCase()),E=r=>{switch(d.value){case"available":return r.seller_id===null;case"unavailable":return r.seller_id!==null;default:return!0}},U=r=>{n.value=r,se(()=>{C.value=!0})};return ee(F,([{isIntersecting:r}])=>{V.value=!r},{rootMargin:"-65px",threshold:1}),ae(async()=>{h.value=!0,await le(Number(a.currentRoute.value.params.id)).then(r=>{l.value=r}).catch(r=>{console.log(r)}),await ne(Number(a.currentRoute.value.params.id)).then(r=>{c.value=r}).catch(r=>{console.log(r)}).finally(()=>{h.value=!1})}),(r,f)=>(i(),w("div",we,[_("div",{ref_key:"sentinal",ref:F,class:"w-full h-0"},null,512),_("div",ke,[_("div",{class:$(["flex flex-col sm:flex-row gap-4 transition-all duration-300 bg-background-elevated/90 backdrop-blur px-4 py-3 border rounded-lg sticky top-16 z-10",{"!bg-background/90 @3xl/main:!bg-background-elevated/90 rounded-none @3xl/main:rounded-b-lg border-t-0 border-x-0 @3xl/main:border-x -mx-4":V.value}])},[_("div",Be,[s(e(ce),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5"}),s(e(re),{type:"text",inputmode:"numeric",autocomplete:"off",maxlength:"19",placeholder:"Buscar número",class:"w-full pl-11 pr-4 py-2 text-sm",modelValue:v.value,"onUpdate:modelValue":f[0]||(f[0]=u=>v.value=u)},null,8,["modelValue"])]),s(e(pe),{"default-value":"all",class:"w-full sm:w-auto"},{default:t(()=>[s(e(fe),{class:"w-full"},{default:t(()=>[s(e(D),{value:"all",onClick:f[1]||(f[1]=()=>d.value="all")},{default:t(()=>[x(" Todo ")]),_:1}),s(e(D),{value:"available",onClick:f[2]||(f[2]=()=>d.value="available")},{default:t(()=>[x(" Disponibles ")]),_:1}),s(e(D),{value:"unavailable",onClick:f[3]||(f[3]=()=>d.value="unavailable")},{default:t(()=>[x(" No disponibles ")]),_:1})]),_:1})]),_:1})],2),_("div",$e,[_("div",Ce,[De,s(e(de),{class:"w-8 h-8"})]),h.value?(i(),w("div",Ne,[(i(),w(z,null,S(100,u=>s(e(oe),{key:u,class:"w-14 h-14 border rounded-full"})),64))])):te("",!0),_("div",Pe,[(i(!0),w(z,null,S(j.value,u=>(i(),b(e(L),{key:u.id,variant:"ghost",class:$(["text-lg w-14 h-14 border rounded-full",{"bg-background-elevated border border-destructive":u.seller_id!==null}]),onClick:Oe=>U(u)},{default:t(()=>[x(I(u.number),1)]),_:2},1032,["class","onClick"]))),128))])])]),s(e(me),{ref_key:"overviewDialog",ref:R,open:C.value,"onUpdate:open":f[4]||(f[4]=u=>C.value=u)},{default:t(()=>[s(e(ye),null,{default:t(()=>[s(e(ge),null,{default:t(()=>[s(e(ve),null,{default:t(()=>{var u;return[x("Informacion de Bono "),_("span",Te,I((u=n.value)==null?void 0:u.number),1)]}),_:1}),s(e(be),null,{default:t(()=>[x(" Información del vendedor... ")]),_:1})]),_:1}),s(e(he),null,{default:t(()=>[s(e(_e),{"as-child":""},{default:t(()=>[s(e(L),{type:"button",variant:"secondary"},{default:t(()=>[x(" Cerrar ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}});export{je as default};
