import{o as t,c as n,a as e,d as _,a8 as m,r as f,a9 as k,p as w,a1 as x,l as V,n as y,e as b,m as C,q as T,b as H,ac as B}from"./index-8-8s4u9f.js";import{f as M}from"./thumbHash-Ci89Ad7b.js";const $={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},D=e("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("circle",{cx:"12",cy:"12",r:"10",opacity:".5"}),e("path",{"stroke-linecap":"round",d:"m14.5 9.5l-5 5m0-5l5 5"})],-1),I=[D];function L(r,c){return t(),n("svg",$,[...I])}const N={name:"solar-close-circle-line-duotone",render:L},j={key:0,class:"relative p-3 border w-full h-full rounded-md rounded-b-none border-b-0 overflow-hidden"},q=["src"],R=["name"],E=_({__name:"ImageInput",props:m({defaultValue:{},modelValue:{},class:{},name:{},accept:{}},{base64ThumbHash:{required:!1},base64ThumbHashModifiers:{}}),emits:m(["update:modelValue"],["update:base64ThumbHash"]),setup(r,{emit:c}){const a=f(null),s=f(null),l=r,u=k(r,"base64ThumbHash"),h=w(l,"modelValue",c,{passive:!0,defaultValue:l.defaultValue}),p=async i=>{var d;const o=(d=i.target.files)==null?void 0:d[0];o?(a.value=URL.createObjectURL(o),u.value=await M(o)):u.value=null},v=()=>{a.value=null,h.value="",u.value=null,s.value&&(s.value.files=null,s.value.value="")};return(i,g)=>{const o=x("auto-animate");return t(),n("div",null,[V(i.$slots,"preview",{},()=>[T((t(),n("div",null,[a.value?(t(),n("div",j,[e("button",{type:"button",onClick:v,class:"border rounded-full p-1 bg-background-elevated/50 backdrop-blur absolute right-1 top-1"},[H(b(N),{class:"w-5 h-5"})]),e("img",{src:a.value,class:"object-cover rounded-3xs border min-h-32 max-h-32"},null,8,q)])):B("",!0)])),[[o]])]),e("input",{class:y(b(C)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a.value?"rounded-t-none":"rounded-md",l.class)),name:l.name,type:"file",accept:"image/*",onChange:p,ref_key:"input",ref:s},null,42,R)])}}});export{E as _};
