import{s as t}from"./index-_SyS5VNF.js";const l=async()=>{const{data:r,error:e}=await t.from("raffle_stats").select("*, prizes(*)").order("raffle_id",{ascending:!0});if(e)throw new Error(e.message);return r},c=async r=>{const{data:e,error:s}=await t.from("raffles").select("*").eq("id",r).single();if(s)throw new Error(s.message);return e},d=async r=>{const{prizes:e,...s}=r,f=JSON.parse(JSON.stringify(s)),a=JSON.parse(JSON.stringify(e)),{data:i,error:o}=await t.rpc("create_raffle_with_prizes",{raffle_data:f,prizes_data:a});if(console.log({data:i,error:o}),o)throw o;return i},w=async(r,e,s)=>{const{data:f,error:a}=await t.from("raffles_sellers").insert({raffle_id:r,seller_id:e,ticket_price:s}).select();if(a)throw a;return f};export{c as a,w as b,d as c,l as g};
