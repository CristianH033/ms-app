import{d as b,r as i,a3 as g,o as c,c as u,a as m,b as f,e as d,w as v,s as w,_ as x,W as y,Q as h,t as U}from"./index-BFgALlmS.js";import{_ as D,b as F,u as T,g as k}from"./storage-BlseGTyN.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-BlxKCMPA.js";const S={class:"w-full"},V={class:"flex flex-col gap-4"},B=["src"],C=["src"],L=b({__name:"UploadFileForm",setup(H){const n=i(),l=i(null),r=i(),p=a=>{a.preventDefault();const s=new FormData(a.target);console.log(s);const t=(()=>{let e=[];for(const o of s.entries())o[1]instanceof File&&e.push(o[1]);return e})();console.log(t),console.log(t.filter(e=>e.size>0)),t.filter(e=>e.size>0).forEach(async e=>{var _;const o=await T(e,e.name);console.log(o),r.value=(_=await k(o.path))==null?void 0:_.signedUrl})};return g(l,a=>{console.log(a),a&&(n.value=F(a))}),(a,s)=>(c(),u("div",S,[m("form",{action:"",onSubmit:y(p,["prevent"])},[m("div",V,[f(d(N),{type:"text",name:"name"}),f(D,{name:"image","base64-thumb-hash":l.value,"onUpdate:base64ThumbHash":s[0]||(s[0]=t=>l.value=t)},null,8,["base64-thumb-hash"]),f(d(x),{type:"submit"},{default:v(()=>[w("Submit")]),_:1})])],32),n.value?(c(),u("img",{key:0,class:"w-60",src:n.value},null,8,B)):h("",!0),m("pre",null,U(l.value),1),r.value?(c(),u("img",{key:1,class:"w-60",src:r.value},null,8,C)):h("",!0)]))}});export{L as default};
