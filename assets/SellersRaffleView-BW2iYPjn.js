import{_ as S}from"./SellersList.vue_vue_type_script_setup_true_lang-DL_wGe6M.js";import{d as $,_ as R,a as A,b as C,c as N}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-B2Mg40Zl.js";import{_ as B}from"./AlertDialogDescription.vue_vue_type_script_setup_true_lang-B3Ip3o3O.js";import{d as L,P as k,r as i,p as V,o as D,c as F,b as e,w as s,e as a,a as l,t as p,_ as v,s as I}from"./index-D3XNgema.js";import{_ as T,a as E,b as M,c as j}from"./CardContent.vue_vue_type_script_setup_true_lang-DKKLgyEn.js";import{a as P}from"./raffles-DC79YNjX.js";import{g as U,a as W}from"./sellers-CbmGBkD3.js";import{S as g}from"./add-circle-line-duotone-CO9mRRKx.js";import{S as q}from"./cup-star-line-duotone-Cx1zNXq8.js";import{_ as z}from"./AddSellerToRaffleForm.vue_vue_type_script_setup_true_lang-CYzNN9Gi.js";import"./Input.vue_vue_type_script_setup_true_lang-CPPQnc8k.js";import"./magnifer-outline-C_TjYIuX.js";import"./FormMessage.vue_vue_type_script_setup_true_lang-BdVq9q26.js";import"./MoneyInput.vue_vue_type_script_setup_true_lang-C0U_HPfb.js";import"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-BIFusWOy.js";import"./createLucideIcon-qFXMeCX5.js";const G={class:"w-full flex flex-col items-center gap-4"},H={class:"text-lg font-bold"},J=l("div",{class:"text-2xl font-bold"},"1000 boletas",-1),K=l("p",{class:"text-xs text-muted-foreground"},"0 asignadas",-1),O=l("span",{class:"hidden md:inline"},"Agregar",-1),Q={class:"overflow-y-auto relative p-4"},X=l("p",null,"No hay vendedores en esta rifa",-1),Y=l("span",null,"Agregar venddor a esta rifa",-1),ve=L({__name:"SellersRaffleView",setup(Z){const h=k(),f=i(),w=i([]),u=i([]),n=i(!1),r=i(!1),d=h.currentRoute.value.params.id,x=async()=>{await P(Number(d)).then(t=>{f.value=t}).catch(t=>{console.error(t)})},y=async()=>{n.value=!0,U().then(t=>{w.value=t}).catch(t=>{console.error(t)}).finally(()=>{n.value=!1})},m=async()=>{n.value=!0,W(Number(d)).then(t=>{u.value=t}).catch(t=>{console.error(t)}).finally(()=>{n.value=!1})},b=async()=>{r.value=!1,await m()};return V(async()=>{await x(),await y(),await m()}),(t,o)=>(D(),F("div",G,[e(a(j),{class:"w-full"},{default:s(()=>[e(a(T),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[e(a(E),{class:"text-sm font-medium"},{default:s(()=>{var c,_;return[l("p",H,p((c=f.value)==null?void 0:c.name),1),l("p",null,p((_=f.value)==null?void 0:_.description),1)]}),_:1}),e(a(q),{class:"w-6 h-6"})]),_:1}),e(a(M),null,{default:s(()=>[J,K]),_:1})]),_:1}),e(S,{sellers:u.value,isLoading:n.value},{actionButton:s(()=>[e(a($),{open:r.value,"onUpdate:open":o[1]||(o[1]=c=>r.value=c)},{default:s(()=>[e(a(R),{"as-child":""},{default:s(()=>[e(a(v),{class:"gap-2"},{default:s(()=>[e(a(g),{class:"w-5 h-5"}),O]),_:1})]),_:1}),e(a(A),{class:"transition-[opacity,_transform] gap-0 p-0 max-w-2xl w-[calc(100vw-2rem)] max-h-[calc(100dvh-2rem)] rounded-lg grid-rows-[auto_minmax(0,1fr)_auto]"},{default:s(()=>[e(a(C),{class:"p-4 border-b"},{default:s(()=>[e(a(N),null,{default:s(()=>[I("Agregar vendedor")]),_:1}),e(a(B),{class:"mt-4"})]),_:1}),l("div",Q,[e(z,{"raffle-id":Number(a(d)),onCancel:o[0]||(o[0]=()=>r.value=!1),onSuccess:b},null,8,["raffle-id"])])]),_:1})]),_:1},8,["open"])]),emptyText:s(()=>[X]),actionForEmpty:s(()=>[e(a(v),{class:"gap-2",onClick:o[2]||(o[2]=c=>r.value=!0)},{default:s(()=>[e(a(g),{class:"w-5 h-5"}),Y]),_:1})]),_:1},8,["sellers","isLoading"])]))}});export{ve as default};
