import{_ as R}from"./RafflesList.vue_vue_type_script_setup_true_lang-CPwncSpz.js";import{S as h}from"./add-circle-line-duotone-ODTsC-TE.js";import{g as F}from"./raffles-OnuHJqlS.js";import{d as g,o as u,c as S,l as $,n as k,e,m as C,p as V,j as p,w as s,q as L,s as j,y as z,r as i,v as M,x as O,z as U,a as l,b as a,_ as v,A as y,B as P,S as T}from"./index-BjlmlwE0.js";import{_ as q}from"./RaffleForm.vue_vue_type_script_setup_true_lang-FF18yOrk.js";import{S as E}from"./magnifer-outline-jFXUt7Un.js";import{S as H}from"./ticket-line-duotone-Dll_p4e1.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-FM6kbhvc.js";import{_ as G,a as J,b as K,c as Q,d as W}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CUzrxOeU.js";import{_ as X}from"./AlertDialogDescription.vue_vue_type_script_setup_true_lang-Ce3fViH6.js";import"./CardContent.vue_vue_type_script_setup_true_lang-DsIcsWTV.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-Mfcdb9X4.js";import"./cup-star-line-duotone-D6jtc1PZ.js";import"./user-speak-line-duotone-DmV_KD8D.js";import"./FormMessage.vue_vue_type_script_setup_true_lang-lo8LE_9R.js";import"./DrawForm.vue_vue_type_script_setup_true_lang-Cbt2gaMw.js";import"./createLucideIcon-DMQw4zqd.js";import"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-BN3Xsgzs.js";import"./storage-DGqf5uqp.js";import"./MoneyInput.vue_vue_type_script_setup_true_lang-CRJI9V7y.js";import"./component-DY5KWrnK.js";const Y=g({__name:"AlertDialogFooter",props:{class:{}},setup(m){const o=m;return(t,n)=>(u(),S("div",{class:k(e(C)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",o.class))},[$(t.$slots,"default")],2))}}),Z=g({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{},class:{}},setup(m){const o=m,t=V(()=>{const{class:n,...f}=o;return f});return(n,f)=>(u(),p(e(z),L(t.value,{class:e(C)(e(j)({variant:"outline"}),"mt-2 sm:mt-0",o.class)}),{default:s(()=>[$(n.$slots,"default")]),_:3},16,["class"]))}}),ee={class:"w-full flex flex-col items-center"},ae={class:"flex flex-col w-full max-w-3xl gap-4"},se={class:"grow relative"},le=l("span",{class:"hidden md:inline"},"Nueva rifa",-1),te={class:"flex flex-row gap-2 justify-start items-center"},oe=l("span",null," Nueva Rifa ",-1),re={class:"px-6 py-4 overflow-y-auto relative"},ne=l("span",null,"Crear",-1),ie={class:"w-full flex flex-col gap-4 items-center"},ce=l("div",{class:"w-full flex flex-col items-center"},null,-1),Ne=g({__name:"HomeView",setup(m){const o=i(!1),t=i(!1),n=i(""),f=i([]),_=i(!1),x=i(!1),b=i(null),B=V(()=>f.value.filter(r=>r.name.toLowerCase().includes(n.value.toLowerCase())));M(b,([{isIntersecting:r}])=>{x.value=!r},{rootMargin:"-65px",threshold:1});const D=()=>{_.value=!1},A=async()=>{D(),await w()},w=async()=>{o.value=!0,await F().then(r=>{f.value=r}).catch(r=>{console.log(r)}).finally(()=>{o.value=!1})};return O(async()=>{await w()}),(r,c)=>{const N=U("auto-animate");return u(),S("div",ee,[l("div",{ref_key:"sentinal",ref:b,class:"w-full h-0"},null,512),l("div",ae,[l("div",{class:k(["flex flex-row gap-4 transition-all duration-300 bg-background-elevated/90 backdrop-blur px-4 py-3 border rounded-lg sticky top-16 z-10",{"!bg-background/90 @3xl/main:!bg-background-elevated/90 rounded-none @3xl/main:rounded-b-lg border-t-0 border-x-0 @3xl/main:border-x -mx-4":x.value}])},[l("div",se,[a(e(E),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5"}),a(I,{type:"text",modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=d=>n.value=d),autocomplete:"off",placeholder:"Buscar",class:"w-full pl-11 pr-4 py-2 text-sm"},null,8,["modelValue"])]),a(e(W),{open:_.value,"onUpdate:open":c[2]||(c[2]=d=>_.value=d)},{default:s(()=>[a(e(G),{asChild:""},{default:s(()=>[a(e(v),{class:"gap-2"},{default:s(()=>[a(e(h),{class:"w-5 h-5"}),le]),_:1})]),_:1}),a(e(J),{class:"transition-[opacity,_transform] gap-0 p-0 max-w-2xl w-[calc(100vw-2rem)] max-h-[calc(100dvh-2rem)] rounded-lg grid-rows-[auto_minmax(0,1fr)_auto]"},{default:s(()=>[a(e(K),{class:"p-6 pb-4 border-b"},{default:s(()=>[a(e(Q),null,{default:s(()=>[l("div",te,[a(e(H),{class:"w-8 h-8"}),oe])]),_:1}),a(e(X),null,{default:s(()=>[y(" Crea una nueva rifa ")]),_:1})]),_:1}),l("div",re,[a(q,{withoutActions:"",id:"raffle-form",isSubmiting:t.value,"onUpdate:isSubmiting":c[1]||(c[1]=d=>t.value=d),onSuccess:A},null,8,["isSubmiting"])]),a(e(Y),{class:"p-6 pt-4 border-t gap-2"},{default:s(()=>[a(e(Z),{"as-child":""},{default:s(()=>[a(e(v),{variant:"secondary",type:"button",disabled:t.value},{default:s(()=>[y("Cancelar")]),_:1},8,["disabled"])]),_:1}),P((u(),p(e(v),{class:"gap-3",form:"raffle-form",type:"submit",disabled:t.value},{default:s(()=>[t.value?(u(),p(e(T),{key:0,class:"h-6 w-6"})):(u(),p(e(h),{key:1,class:"w-6 h-6"})),ne]),_:1},8,["disabled"])),[[N]])]),_:1})]),_:1})]),_:1},8,["open"])],2),l("div",ie,[a(R,{raffles:B.value,loading:o.value},null,8,["raffles","loading"])])]),ce])}}});export{Ne as default};
